"use strict";(()=>{var e={};e.id=5398,e.ids=[5398],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5528:e=>{e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9808:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>f,originalPathname:()=>k,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>j,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>m});var o={};t.r(o),t.d(o,{GET:()=>c,POST:()=>l}),t(2220);var s=t(1200),a=t(8318),n=t(9680),i=t(5774);let u="http://localhost:5073/api";async function l(e,{params:r}){try{let t=(0,i.cookies)(),o=t.get("auth_token")?.value;if(!o)return n.Z.json({error:"Unauthorized - No auth token"},{status:401});let s=await e.json(),a=await fetch(`${u}/api/users/${r.id}/roles`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok){let e=await a.json();return n.Z.json(e,{status:a.status})}let l=await a.json();return n.Z.json(l)}catch(e){return console.error("Error assigning roles:",e),n.Z.json({error:"Failed to assign roles",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(e,{params:r}){try{let e=(0,i.cookies)(),t=e.get("auth_token")?.value;if(!t)return n.Z.json({error:"Unauthorized - No auth token"},{status:401});let o=await fetch(`${u}/api/users/${r.id}/roles`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},cache:"no-store"});if(!o.ok)throw Error(`Backend API error: ${o.status}`);let s=await o.json();return n.Z.json(s)}catch(e){return console.error("Error fetching user roles:",e),n.Z.json({error:"Failed to fetch user roles",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=s.AppRouteRouteModule,d=new p({definition:{kind:a.x.APP_ROUTE,page:"/api/users/[id]/roles/route",pathname:"/api/users/[id]/roles",filename:"route",bundlePath:"app/api/users/[id]/roles/route"},resolvedPagePath:"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\api\\users\\[id]\\roles\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:j,headerHooks:f,staticGenerationBailout:m}=d,k="/api/users/[id]/roles/route"}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[2723,5451],()=>t(9808));module.exports=o})();