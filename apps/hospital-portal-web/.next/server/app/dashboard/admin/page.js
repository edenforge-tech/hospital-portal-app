(()=>{var e={};e.id=1305,e.ids=[1305],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},612:e=>{"use strict";e.exports=require("node:os")},5830:e=>{"use strict";e.exports=require("node:process")},5997:e=>{"use strict";e.exports=require("node:tty")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6284:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>m,routeModule:()=>p,tree:()=>c});var r=t(9173),a=t(8318),i=t(3526),l=t.n(i),n=t(8996),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=r.AppPageRouteModule,c=["",{children:["dashboard",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5873)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6687)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6840)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,1403,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\admin\\page.tsx"],x="/dashboard/admin/page",u={require:t,loadChunk:()=>Promise.resolve()},p=new d({definition:{kind:a.x.APP_PAGE,page:"/dashboard/admin/page",pathname:"/dashboard/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},816:(e,s,t)=>{Promise.resolve().then(t.bind(t,9777))},9777:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(3393),a=t(3884),i=t(928),l=t(7928),n=t(8661);let o={blue:"bg-blue-50 border-blue-200 text-blue-600",green:"bg-green-50 border-green-200 text-green-600",yellow:"bg-yellow-50 border-yellow-200 text-yellow-600",red:"bg-red-50 border-red-200 text-red-600",purple:"bg-purple-50 border-purple-200 text-purple-600",gray:"bg-gray-50 border-gray-200 text-gray-600"};function d({title:e,value:s,icon:t,trend:a,subtitle:i,color:l="blue",onClick:n}){let d=o[l];return r.jsx("div",{className:`rounded-lg border-2 p-6 transition-all hover:shadow-md ${n?"cursor-pointer":""} ${d}`,onClick:n,children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),(0,r.jsxs)("div",{className:"mt-2 flex items-baseline",children:[r.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:s}),a&&(0,r.jsxs)("span",{className:`ml-2 text-sm font-medium ${a.isPositive?"text-green-600":"text-red-600"}`,children:[a.isPositive?"↑":"↓"," ",Math.abs(a.value),"%"]})]}),i&&r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:i})]}),t&&r.jsx("div",{className:"text-4xl opacity-50",children:t})]})})}var c=t(6093);function m(){let{user:e}=(0,a.t)(),s=(0,l.useRouter)(),[t,o]=(0,n.useState)(null),[m,x]=(0,n.useState)(null),[u,p]=(0,n.useState)([]),[h,g]=(0,n.useState)([]),[b,y]=(0,n.useState)(!0),[j,v]=(0,n.useState)(null);(0,n.useEffect)(()=>{if(!e){s.push("/");return}N()},[e,s]);let N=async()=>{try{y(!0),v(null);let[e,s,t,r]=await Promise.all([i.k.getOverviewStats(),i.k.getQuickStats(),i.k.getRecentActivities(10),i.k.getAlerts(5)]);o(e),x(s),p(t),g(r)}catch(e){console.error("Error loading dashboard:",e),v(e.response?.data?.message||"Failed to load dashboard data"),o({totalTenants:5,totalUsers:250,totalDepartments:45,totalBranches:12,activeUsers:89,systemHealthStatus:"healthy",last24HoursActivity:1234}),x({userGrowth:{currentMonth:25,lastMonth:20,percentageChange:25},departmentOperations:{active:42,total:45,utilizationRate:93.3},complianceStatus:{hipaa:"compliant",nabh:"compliant",dpa:"partial",overallScore:85},systemPerformance:{uptime:99.8,responseTime:125,errorRate:.2}}),p([{id:"1",type:"user_registration",description:"New user registered: Dr. Sarah Johnson",user:"System",timestamp:new Date(Date.now()-3e5).toISOString()},{id:"2",type:"role_assignment",description:"Assigned Doctor role to John Smith",user:"Admin User",timestamp:new Date(Date.now()-9e5).toISOString()},{id:"3",type:"admin_action",description:"Updated department settings: Cardiology",user:"Admin User",timestamp:new Date(Date.now()-18e5).toISOString()}]),g([{id:"1",type:"password_expiry",severity:"medium",title:"Password Expiry Warning",description:"15 users have passwords expiring in the next 7 days",timestamp:new Date().toISOString(),actionRequired:!0,affectedUsers:15},{id:"2",type:"compliance_issue",severity:"high",title:"DPA Compliance Issue",description:"Data retention policy needs review",timestamp:new Date().toISOString(),actionRequired:!0}])}finally{y(!1)}},f=async e=>{try{await i.k.dismissAlert(e),g(h.filter(s=>s.id!==e))}catch(e){console.error("Error dismissing alert:",e)}},w=e=>{switch(e){case"user_registration":return"\uD83D\uDC64";case"role_assignment":return"\uD83D\uDD10";case"permission_change":return"⚙️";case"admin_action":return"⚡";default:return"\uD83D\uDCCB"}},D=e=>{switch(e){case"password_expiry":return"\uD83D\uDD11";case"compliance_issue":return"⚠️";case"system_alert":return"\uD83D\uDD14";case"failed_login":return"\uD83D\uDEAB";default:return"\uD83D\uDCE2"}},S=e=>{let s=new Date,t=new Date(e),r=s.getTime()-t.getTime(),a=Math.floor(r/6e4),i=Math.floor(a/60),l=Math.floor(i/24);return a<1?"Just now":a<60?`${a} min${a>1?"s":""} ago`:i<24?`${i} hour${i>1?"s":""} ago`:`${l} day${l>1?"s":""} ago`};return e?b?r.jsx("div",{className:"flex h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),r.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Welcome back, ",e.firstName,"! \uD83D\uDC4B"]}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Here's what's happening with your hospital today."})]}),j&&r.jsx("div",{className:"mb-6 rounded-lg border border-yellow-300 bg-yellow-50 p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-2xl",children:"⚠️"}),(0,r.jsxs)("div",{className:"ml-3",children:[r.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Using Demo Data"}),r.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:j})]})]})}),t&&(0,r.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[r.jsx(d,{title:"Total Tenants",value:t.totalTenants,icon:"\uD83C\uDFE2",color:"blue",onClick:()=>s.push("/dashboard/admin/tenants")}),r.jsx(d,{title:"Total Users",value:t.totalUsers,icon:"\uD83D\uDC65",color:"green",subtitle:`${t.activeUsers} active now`,onClick:()=>s.push("/dashboard/admin/users")}),r.jsx(d,{title:"Departments",value:t.totalDepartments,icon:"\uD83C\uDFE5",color:"purple",onClick:()=>s.push("/dashboard/admin/departments")}),r.jsx(d,{title:"Branches",value:t.totalBranches,icon:"\uD83D\uDCCD",color:"yellow",onClick:()=>s.push("/dashboard/admin/branches")})]}),t&&(0,r.jsxs)("div",{className:"mb-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"System Health"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Current Status"}),r.jsx("div",{className:"mt-2",children:r.jsx(c.O,{status:t.systemHealthStatus,size:"lg"})})]}),r.jsx("div",{className:"text-6xl",children:"healthy"===t.systemHealthStatus?"✅":"⚠️"})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Last 24 Hours"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Activities"}),r.jsx("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:t.last24HoursActivity.toLocaleString()})]}),r.jsx("div",{className:"text-6xl",children:"\uD83D\uDCCA"})]})]})]}),m&&(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Quick Stats"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"User Growth"}),(0,r.jsxs)("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:["+",m.userGrowth.currentMonth]}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-green-600",children:["↑ ",m.userGrowth.percentageChange,"% vs last month"]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Department Operations"}),(0,r.jsxs)("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[m.departmentOperations.active,"/",m.departmentOperations.total]}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-600",children:[m.departmentOperations.utilizationRate,"% utilization"]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Compliance Score"}),(0,r.jsxs)("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[m.complianceStatus.overallScore,"%"]}),(0,r.jsxs)("div",{className:"mt-2 flex gap-2",children:[r.jsx(c.O,{status:m.complianceStatus.hipaa,size:"sm"}),r.jsx(c.O,{status:m.complianceStatus.nabh,size:"sm"}),r.jsx(c.O,{status:m.complianceStatus.dpa,size:"sm"})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Performance"}),(0,r.jsxs)("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[m.systemPerformance.uptime,"%"]}),(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-600",children:[m.systemPerformance.responseTime,"ms avg response"]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),r.jsx("button",{onClick:()=>s.push("/dashboard/admin/audit-logs"),className:"text-sm text-blue-600 hover:text-blue-700",children:"View All →"})]}),r.jsx("div",{className:"space-y-4",children:0===u.length?r.jsx("p",{className:"text-center text-sm text-gray-500",children:"No recent activities"}):u.map(e=>(0,r.jsxs)("div",{className:"flex items-start border-b border-gray-100 pb-4 last:border-0",children:[r.jsx("div",{className:"text-2xl",children:w(e.type)}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:e.description}),(0,r.jsxs)("div",{className:"mt-1 flex items-center text-xs text-gray-500",children:[r.jsx("span",{children:e.user}),r.jsx("span",{className:"mx-2",children:"•"}),r.jsx("span",{children:S(e.timestamp)})]})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Alerts"}),(0,r.jsxs)("span",{className:"rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-800",children:[h.length," Active"]})]}),r.jsx("div",{className:"space-y-4",children:0===h.length?(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-4xl",children:"✅"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No active alerts"})]}):h.map(e=>(0,r.jsxs)("div",{className:`rounded-lg border-l-4 p-4 ${"critical"===e.severity?"border-red-500 bg-red-50":"high"===e.severity?"border-orange-500 bg-orange-50":"medium"===e.severity?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:"text-2xl",children:D(e.type)}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.title}),r.jsx(c.O,{status:e.severity,size:"sm"})]}),r.jsx("p",{className:"mt-1 text-sm text-gray-700",children:e.description}),e.affectedUsers&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-600",children:["Affects ",e.affectedUsers," user",e.affectedUsers>1?"s":""]})]})]}),r.jsx("button",{onClick:()=>f(e.id),className:"text-gray-400 hover:text-gray-600",title:"Dismiss",children:"✕"})]}),e.actionRequired&&r.jsx("button",{className:"mt-3 w-full rounded bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Take Action"})]},e.id))})]})]})]})}):null}},5873:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var r=t(8390);let a=(0,r.createProxy)(String.raw`C:\Users\Sam Aluri\Downloads\Hospital Portal\apps\hospital-portal-web\src\app\dashboard\admin\page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[2723,4479,3698,5033,5136,1805,2765,6093,928],()=>t(6284));module.exports=r})();