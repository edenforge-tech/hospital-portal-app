(()=>{var e={};e.id=9086,e.ids=[9086],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},612:e=>{"use strict";e.exports=require("node:os")},5830:e=>{"use strict";e.exports=require("node:process")},5997:e=>{"use strict";e.exports=require("node:tty")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3246:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>c});var a=s(9173),r=s(8318),i=s(3526),l=s.n(i),n=s(8996),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=a.AppPageRouteModule,c=["",{children:["dashboard",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4510)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\appointments\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4416)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\appointments\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6687)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6840)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1403,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\appointments\\page.tsx"],u="/dashboard/appointments/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new d({definition:{kind:r.x.APP_PAGE,page:"/dashboard/appointments/page",pathname:"/dashboard/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4466:(e,t,s)=>{Promise.resolve().then(s.bind(s,7056))},7056:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(3393),r=s(8661),i=s(3884),l=s(7553),n=s(6590),o=s(5364),d=s(2645),c=s(9757),p=s(7315);let u={scheduled:"#3B82F6",confirmed:"#10B981","in-progress":"#F59E0B",completed:"#6B7280",cancelled:"#EF4444","no-show":"#DC2626"};function x({appointments:e,onEventClick:t,onDateClick:s,onEventDrop:i,loading:l=!1}){let x=(0,r.useRef)(null),[m,g]=(0,r.useState)("dayGridMonth"),h=e.map(e=>({id:e.id,title:`${e.patientName} - ${e.doctorName}`,start:`${e.appointmentDate}T${e.startTime}`,end:e.endTime?`${e.appointmentDate}T${e.endTime}`:void 0,backgroundColor:u[e.status]||"#3B82F6",borderColor:u[e.status]||"#3B82F6",extendedProps:{appointment:e}})),b=e=>{g(e),x.current&&x.current.getApi().changeView(e)};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>b("dayGridMonth"),className:`px-4 py-2 rounded ${"dayGridMonth"===m?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Month"}),a.jsx("button",{onClick:()=>b("timeGridWeek"),className:`px-4 py-2 rounded ${"timeGridWeek"===m?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Week"}),a.jsx("button",{onClick:()=>b("timeGridDay"),className:`px-4 py-2 rounded ${"timeGridDay"===m?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Day"}),a.jsx("button",{onClick:()=>b("listWeek"),className:`px-4 py-2 rounded ${"listWeek"===m?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"List"})]}),(0,a.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#3B82F6"}}),a.jsx("span",{children:"Scheduled"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#10B981"}}),a.jsx("span",{children:"Confirmed"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:u["in-progress"]}}),a.jsx("span",{children:"In Progress"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#6B7280"}}),a.jsx("span",{children:"Completed"})]})]})]}),l?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):a.jsx(n.Z,{ref:x,plugins:[o.Z,d.Z,c.ZP,p.Z],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:""},events:h,eventClick:e=>{let s=e.event.extendedProps.appointment;t(s)},dateClick:e=>{s(new Date(e.dateStr))},editable:!0,droppable:!0,eventDrop:e=>{if(i){let t=e.event.extendedProps.appointment;i(t.id,e.event.start)}},slotMinTime:"08:00:00",slotMaxTime:"20:00:00",allDaySlot:!1,height:"auto",eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!0}})]})}var m=s(9285),g=s(683),h=s(3499),b=s(7955),v=s(9291),j=s(6895),f=s(722);function y({appointment:e,initialDate:t,onClose:s,onSave:i}){let[n,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(""),[p,u]=(0,r.useState)(e?.patientId||""),[x,y]=(0,r.useState)(e?.doctorId||""),[N,w]=(0,r.useState)(e?.departmentId||""),[C,S]=(0,r.useState)(e?.appointmentDate||t?.toISOString().split("T")[0]||""),[k,P]=(0,r.useState)(e?.startTime||"09:00"),[q,D]=(0,r.useState)(e?.duration||30),[$,A]=(0,r.useState)(e?.appointmentType||"consultation"),[T,Z]=(0,r.useState)(e?.reasonForVisit||""),[_,M]=(0,r.useState)(e?.notes||""),[E,z]=(0,r.useState)([]),[F,G]=(0,r.useState)([]),[B,R]=(0,r.useState)([]),[I,U]=(0,r.useState)(""),[H,O]=(0,r.useState)(!1);(0,r.useEffect)(()=>{V()},[]);let V=async()=>{try{let[t,s,a]=await Promise.all([(0,f.ac)().get("/patients"),(0,f.ac)().get("/users"),(0,f.ac)().get("/departments")]);z(t.data||[]),G(s.data||[]),R(a.data||[]),e&&U(`${e.patientName} (${e.patientId})`)}catch(e){console.error("Error loading data:",e)}},W=async t=>{if(t.preventDefault(),!p||!x||!C||!k){c("Please fill in all required fields");return}o(!0),c("");try{let t={patientId:p,doctorId:x,departmentId:N||void 0,appointmentDate:C,startTime:k,duration:q,appointmentType:$,reasonForVisit:T||void 0,notes:_||void 0};e?await l.q.update(e.id,t):await l.q.create(t),i(),s()}catch(e){c(e.response?.data?.message||"Failed to save appointment")}finally{o(!1)}},L=E.filter(e=>`${e.firstName} ${e.lastName} ${e.medicalRecordNumber}`.toLowerCase().includes(I.toLowerCase()));return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e?"Edit Appointment":"New Appointment"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:a.jsx(m.Z,{size:24})})]}),(0,a.jsxs)("form",{onSubmit:W,className:"p-6 space-y-6",children:[d&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:d}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Patient ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(g.Z,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search patient by name or MRN...",value:I,onChange:e=>{U(e.target.value),O(!0)},onFocus:()=>O(!0),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),H&&I&&L.length>0&&a.jsx("div",{className:"mt-2 border rounded-lg max-h-40 overflow-y-auto bg-white shadow-lg absolute z-10 w-full max-w-xl",children:L.slice(0,10).map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>{u(e.id),U(`${e.firstName} ${e.lastName} (${e.medicalRecordNumber})`),O(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b last:border-b-0",children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["MRN: ",e.medicalRecordNumber]})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Doctor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(h.Z,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,a.jsxs)("select",{value:x,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[a.jsx("option",{value:"",children:"Select Doctor"}),F.map(e=>(0,a.jsxs)("option",{value:e.id,children:["Dr. ",e.firstName," ",e.lastName]},e.id))]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),(0,a.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"Select Department (Optional)"}),B.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(b.Z,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{type:"date",value:C,onChange:e=>S(e.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(v.Z,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("input",{type:"time",value:k,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),(0,a.jsxs)("select",{value:q,onChange:e=>D(Number(e.target.value)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:15,children:"15 minutes"}),a.jsx("option",{value:30,children:"30 minutes"}),a.jsx("option",{value:45,children:"45 minutes"}),a.jsx("option",{value:60,children:"1 hour"}),a.jsx("option",{value:90,children:"1.5 hours"}),a.jsx("option",{value:120,children:"2 hours"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Type"}),(0,a.jsxs)("select",{value:$,onChange:e=>A(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"consultation",children:"Consultation"}),a.jsx("option",{value:"follow-up",children:"Follow-up"}),a.jsx("option",{value:"emergency",children:"Emergency"}),a.jsx("option",{value:"routine-checkup",children:"Routine Checkup"}),a.jsx("option",{value:"procedure",children:"Procedure"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Visit"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(j.Z,{className:"absolute left-3 top-3 text-gray-400",size:20}),a.jsx("textarea",{value:T,onChange:e=>Z(e.target.value),rows:2,placeholder:"Brief description of the reason for visit...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),a.jsx("textarea",{value:_,onChange:e=>M(e.target.value),rows:3,placeholder:"Any additional notes or special instructions...",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:s,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:n,children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",disabled:n,children:[n?"Saving...":e?"Update":"Create"," Appointment"]})]})]})]})})}var N=s(1571),w=s(1660);let C=({title:e,value:t,icon:s,color:r="indigo",trend:i})=>{let l={indigo:"bg-indigo-500",blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500"};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`${l[r]||l.indigo} p-3 rounded-lg`,children:a.jsx(s,{className:"text-white",size:24})}),i&&(0,a.jsxs)("span",{className:`text-sm font-medium ${i.isPositive?"text-green-600":"text-red-600"}`,children:[(i.isPositive,"")," ",Math.abs(i.value),"%"]})]}),a.jsx("h3",{className:"text-gray-600 text-sm font-medium",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:t})]})};function S(){let{user:e}=(0,i.t)(),[t,s]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[d,c]=(0,r.useState)(!1),[p,u]=(0,r.useState)(),[m,g]=(0,r.useState)(),[h,v]=(0,r.useState)({});(0,r.useEffect)(()=>{e&&j()},[e,h]);let j=async()=>{try{o(!0);let e=await l.q.getAll(h);s(e.data||[])}catch(e){console.error("Error loading appointments:",e)}finally{o(!1)}},f=t.filter(e=>e.appointmentDate===new Date().toISOString().split("T")[0]).length,S=t.filter(e=>"scheduled"===e.status).length,k=t.filter(e=>"completed"===e.status).length;return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointments"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Schedule and manage patient appointments"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:j,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:[a.jsx(N.Z,{size:20}),"Refresh"]}),(0,a.jsxs)("button",{onClick:()=>{u(void 0),g(void 0),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:[a.jsx(w.Z,{size:20}),"New Appointment"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[a.jsx(C,{title:"Today's Appointments",value:f,icon:b.Z,trend:{value:0,isPositive:!0}}),a.jsx(C,{title:"Scheduled",value:S,icon:b.Z,color:"blue"}),a.jsx(C,{title:"Completed",value:k,icon:b.Z,color:"green"}),a.jsx(C,{title:"Total",value:t.length,icon:b.Z,color:"purple"})]}),a.jsx(x,{appointments:t,onEventClick:e=>{u(e),c(!0)},onDateClick:e=>{g(e),u(void 0),c(!0)},loading:n}),d&&a.jsx(y,{appointment:p,initialDate:m,onClose:()=>{c(!1),u(void 0),g(void 0)},onSave:()=>{j()}})]})}},4510:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var a=s(8390);let r=(0,a.createProxy)(String.raw`C:\Users\Sam Aluri\Downloads\Hospital Portal\apps\hospital-portal-web\src\app\dashboard\appointments\page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,o=n}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[2723,4479,3698,5033,5235,1728,993,5136,1805,2765,1413],()=>s(3246));module.exports=a})();