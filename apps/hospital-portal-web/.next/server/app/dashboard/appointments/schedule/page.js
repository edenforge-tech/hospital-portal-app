(()=>{var e={};e.id=6459,e.ids=[6459],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},612:e=>{"use strict";e.exports=require("node:os")},5830:e=>{"use strict";e.exports=require("node:process")},5997:e=>{"use strict";e.exports=require("node:tty")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},9291:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(5235);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},683:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(5235);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5771:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>p,routeModule:()=>u,tree:()=>c});var r=s(9173),a=s(8318),i=s(3526),l=s.n(i),n=s(8996),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=r.AppPageRouteModule,c=["",{children:["dashboard",{children:["appointments",{children:["schedule",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7180)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\appointments\\schedule\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4416)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\appointments\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6687)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6840)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1403,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\dashboard\\appointments\\schedule\\page.tsx"],x="/dashboard/appointments/schedule/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new d({definition:{kind:a.x.APP_PAGE,page:"/dashboard/appointments/schedule/page",pathname:"/dashboard/appointments/schedule",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3161:(e,t,s)=>{Promise.resolve().then(s.bind(s,3606))},3606:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(3393),a=s(3884),i=s(7928),l=s(8661),n=s(683),o=s(9291),d=s(7553),c=s(722);let p=e=>{let t={scheduled:"bg-blue-100 text-blue-800 border-blue-200",confirmed:"bg-green-100 text-green-800 border-green-200","in-progress":"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-gray-100 text-gray-800 border-gray-200",cancelled:"bg-red-100 text-red-800 border-red-200","no-show":"bg-red-200 text-red-900 border-red-300"};return t[e]||t.scheduled};function x({doctorId:e,date:t=new Date}){let[s,a]=(0,l.useState)([]),[i,o]=(0,l.useState)(null),[p,x]=(0,l.useState)(!0),[h,g]=(0,l.useState)(t),[y,j]=(0,l.useState)("day");(0,l.useEffect)(()=>{e&&(b(),N())},[e,h]);let b=async()=>{try{let t=await (0,c.ac)().get(`/users/${e}`);o(t.data)}catch(e){console.error("Error loading doctor data:",e)}},N=async()=>{try{x(!0);let t={doctorId:e,startDate:h.toISOString().split("T")[0],endDate:"week"===y?new Date(h.getTime()+6048e5).toISOString().split("T")[0]:h.toISOString().split("T")[0]},s=await d.q.getAll(t);a(s.data||[])}catch(e){console.error("Error loading appointments:",e)}finally{x(!1)}},v=()=>{let e=[],t=new Date(h);t.setDate(h.getDate()-h.getDay());for(let s=0;s<7;s++){let r=new Date(t);r.setDate(t.getDate()+s),e.push(r)}return e},f=e=>{let t=new Date(h);"day"===y?t.setDate(h.getDate()+("next"===e?1:-1)):t.setDate(h.getDate()+("next"===e?7:-7)),g(t)};return e?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center",children:r.jsx(n.Z,{className:"w-6 h-6 text-indigo-600"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i?`Dr. ${i.firstName} ${i.lastName}`:"Loading..."}),i?.specialization&&r.jsx("p",{className:"text-sm text-gray-600",children:i.specialization}),i?.departmentName&&r.jsx("p",{className:"text-xs text-gray-500",children:i.departmentName})]})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j("day"),className:`px-3 py-1 text-sm rounded ${"day"===y?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Day"}),r.jsx("button",{onClick:()=>j("week"),className:`px-3 py-1 text-sm rounded ${"week"===y?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Week"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>f("prev"),className:"p-2 text-gray-400 hover:text-gray-600",children:"‹"}),r.jsx("span",{className:"text-sm font-medium text-gray-900 min-w-[120px] text-center",children:"day"===y?h.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}):`${v()[0].toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${v()[6].toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}),r.jsx("button",{onClick:()=>f("next"),className:"p-2 text-gray-400 hover:text-gray-600",children:"›"})]})]})]})}),r.jsx("div",{className:"p-6",children:p?(0,r.jsxs)("div",{className:"flex items-center justify-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading schedule..."})]}):"day"===y?r.jsx(m,{appointments:(e=>{let t=e.toISOString().split("T")[0];return s.filter(e=>e.appointmentDate===t).sort((e,t)=>e.startTime.localeCompare(t.startTime))})(h)}):r.jsx(u,{appointments:s,weekDays:v()})})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(n.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Doctor Selected"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Please select a doctor to view their schedule."})]})}function m({appointments:e}){let t=[];for(let e=8;e<=18;e++)for(let s=0;s<60;s+=30)t.push(`${e.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Daily Schedule"}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.length," appointment",1!==e.length?"s":""," today"]})]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:t.map((t,s)=>{let a=e.find(e=>e.startTime===t);if(void 0!==a){let e=a.duration;return r.jsx("div",{className:`p-4 rounded-lg border-2 ${p(a.status)}`,style:{gridRow:`span ${Math.ceil(e/30)}`},children:r.jsx("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(o.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{className:"font-medium",children:[h(a.startTime)," - ",h(a.endTime)]}),r.jsx("span",{className:`px-2 py-1 text-xs rounded-full capitalize ${p(a.status)}`,children:a.status})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:a.patientName}),r.jsx("p",{className:"text-sm text-gray-600",children:a.appointmentType}),a.reasonForVisit&&r.jsx("p",{className:"text-sm text-gray-500",children:a.reasonForVisit})]})]})})},t)}return s%2==0?r.jsx("div",{className:"p-4 border border-gray-100 rounded-lg bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx(o.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:h(t)})]})},t):null})})]})}function u({appointments:e,weekDays:t}){return(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Weekly Schedule"}),(0,r.jsxs)("div",{className:"grid grid-cols-8 gap-2",children:[r.jsx("div",{className:"p-2"}),t.map((e,t)=>(0,r.jsxs)("div",{className:"p-2 text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.toLocaleDateString("en-US",{weekday:"short"})}),r.jsx("div",{className:"text-xs text-gray-500",children:e.getDate()})]},t)),Array.from({length:24},(s,a)=>(0,r.jsxs)("div",{className:"contents",children:[r.jsx("div",{className:"p-2 text-right text-xs text-gray-500 border-t",children:0===a?"12 AM":a<12?`${a} AM`:12===a?"12 PM":`${a-12} PM`}),t.map((t,s)=>{let i=e.filter(e=>e.appointmentDate===t.toISOString().split("T")[0]&&parseInt(e.startTime.split(":")[0])===a);return r.jsx("div",{className:"min-h-[60px] p-1 border-t border-l",children:i.map((e,t)=>(0,r.jsxs)("div",{className:`p-2 mb-1 text-xs rounded ${p(e.status)} cursor-pointer hover:opacity-80`,title:`${e.patientName} - ${e.appointmentType}`,children:[r.jsx("div",{className:"font-medium truncate",children:e.patientName}),r.jsx("div",{className:"text-xs opacity-75",children:h(e.startTime)})]},t))},s)})]},a))]})]})}function h(e){let[t,s]=e.split(":"),r=parseInt(t);return`${r%12||12}:${s} ${r>=12?"PM":"AM"}`}function g(){let{user:e}=(0,a.t)(),t=(0,i.useRouter)(),[s,n]=(0,l.useState)("");return((0,l.useEffect)(()=>{e&&("doctor"===e.userType||"Doctor"===e.userType)&&n(e.id)},[e]),e)?"doctor"===e.userType||"Doctor"===e.userType||s?r.jsx("div",{className:"p-8",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Doctor Schedule"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"doctor"===e.userType||"Doctor"===e.userType?"View and manage your appointments":"View doctor schedules and appointments"})]}),r.jsx(x,{doctorId:s})]})}):r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Doctor Schedule"}),r.jsx("p",{className:"text-gray-600 mb-8",children:"Select a doctor to view their schedule"}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[r.jsx("p",{className:"text-yellow-800",children:"Doctor selection interface will be implemented here. For now, please navigate to the appointments calendar to view schedules."}),r.jsx("button",{onClick:()=>t.push("/dashboard/appointments"),className:"mt-4 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Go to Appointments Calendar"})]})]})})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})}},7180:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var r=s(8390);let a=(0,r.createProxy)(String.raw`C:\Users\Sam Aluri\Downloads\Hospital Portal\apps\hospital-portal-web\src\app\dashboard\appointments\schedule\page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[2723,4479,3698,5033,5235,5136,1805,2765,1413],()=>s(5771));module.exports=r})();