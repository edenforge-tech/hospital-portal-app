(()=>{var e={};e.id=6263,e.ids=[6263],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},612:e=>{"use strict";e.exports=require("node:os")},5830:e=>{"use strict";e.exports=require("node:process")},5997:e=>{"use strict";e.exports=require("node:tty")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},835:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>u});var t=s(9173),a=s(8318),o=s(3526),n=s.n(o),i=s(8996),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(r,l);let d=t.AppPageRouteModule,u=["",{children:["auth",{children:["change-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2843)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\auth\\change-password\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6698)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\auth\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6840)),"C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1403,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Sam Aluri\\Downloads\\Hospital Portal\\apps\\hospital-portal-web\\src\\app\\auth\\change-password\\page.tsx"],p="/auth/change-password/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new d({definition:{kind:a.x.APP_PAGE,page:"/auth/change-password/page",pathname:"/auth/change-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},5326:(e,r,s)=>{Promise.resolve().then(s.bind(s,735))},6892:()=>{},735:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(3393),a=s(8661),o=s(7928),n=s(722),i=s(3884);function l(){let e=(0,o.useRouter)(),{mustChangePassword:r,clearMustChangePassword:s,user:l}=(0,i.t)(),[d,u]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[x,m]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[b,w]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),v=e=>{let r=/[A-Z]/.test(e),s=/[a-z]/.test(e),t=/\d/.test(e),a=/[!@#$%^&*]/.test(e),o=e.length>=12;return r&&s&&t&&a&&o},P=async r=>{r.preventDefault(),g(""),w(""),y(!0);try{if(!d||!c||!x){g("All fields are required");return}if(c!==x){g("Passwords do not match");return}if(!v(c)){g("Password must be at least 12 characters with uppercase, lowercase, numbers, and special characters");return}if(d===c){g("New password must be different from current password");return}await n.iJ.changePassword(d,c),w("Password changed successfully!"),s(),setTimeout(()=>{e.push("/dashboard")},2e3)}catch(e){g(e.response?.data?.message||"Failed to change password")}finally{y(!1)}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-amber-50 to-orange-100",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-amber-600",children:"Change Password"}),t.jsx("p",{className:"text-gray-600 mt-2",children:r?"You must change your password before accessing the system":"Update your password"}),l&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["User: ",l.email]})]}),(0,t.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[h&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),b&&t.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:b}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),t.jsx("input",{type:"password",value:d,onChange:e=>u(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsx("input",{type:"password",value:c,onChange:e=>p(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Must be 12+ characters with uppercase, lowercase, numbers, and special characters"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),t.jsx("input",{type:"password",value:x,onChange:e=>m(e.target.value),placeholder:"••••••••",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",required:!0})]}),t.jsx("button",{type:"submit",disabled:f,className:"w-full bg-amber-600 text-white py-2 rounded-lg font-semibold hover:bg-amber-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:f?"Changing Password...":"Change Password"})]})]})})}},2843:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$typeof:()=>n,__esModule:()=>o,default:()=>l});var t=s(8390);let a=(0,t.createProxy)(String.raw`C:\Users\Sam Aluri\Downloads\Hospital Portal\apps\hospital-portal-web\src\app\auth\change-password\page.tsx`),{__esModule:o,$$typeof:n}=a,i=a.default,l=i},6698:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o,metadata:()=>a});var t=s(304);let a={title:"Next.js",description:"Generated by Next.js"};function o({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{children:e})})}}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[2723,4479,3698,5136,1805],()=>s(835));module.exports=t})();