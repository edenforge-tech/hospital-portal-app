(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5797:function(e,t,a){Promise.resolve().then(a.bind(a,1942))},1942:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(5650),s=a(3966),l=a(9216);let n={getAll:async e=>{let t=await (0,l.ac)().get("/departments",{params:e});return t.data},getAllWithStaffCount:async()=>{let e=await (0,l.ac)().get("/departments/with-staff-count");return e.data},getById:async e=>{let t=await (0,l.ac)().get("/departments/".concat(e));return t.data},create:async e=>{let t=await (0,l.ac)().post("/departments",e);return t.data},update:async(e,t)=>{let a=await (0,l.ac)().put("/departments/".concat(e),t);return a.data},delete:async e=>{await (0,l.ac)().delete("/departments/".concat(e))},getHierarchy:async e=>{let t=await (0,l.ac)().get("/departments/hierarchy",{params:{branchId:e}});return t.data},getSubDepartments:async e=>{let t=await (0,l.ac)().get("/departments/".concat(e,"/sub-departments"));return t.data},getDetails:async e=>{let t=await (0,l.ac)().get("/departments/".concat(e,"/details"));return t.data},getStaff:async e=>{let t=await (0,l.ac)().get("/departments/".concat(e,"/staff"));return t.data},getMetrics:async e=>{let t=await (0,l.ac)().get("/departments/".concat(e,"/metrics"));return t.data},getDepartmentTypes:async()=>{let e=await (0,l.ac)().get("/departments/types");return e.data}};var i=a(9856),d=a(2317);function c(e){let{searchTerm:t,onSearchChange:a,placeholder:s="Search...",filters:l=[],onClearFilters:n,className:i=""}=e,d=t||l.some(e=>e.value);return(0,r.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center ".concat(i),children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:s,value:t,onChange:e=>a(e.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 pl-10 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),(0,r.jsx)("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),l.map((e,t)=>(0,r.jsx)("div",{className:"min-w-[180px]",children:(0,r.jsxs)("select",{value:e.value,onChange:t=>e.onChange(t.target.value),className:"w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[(0,r.jsx)("option",{value:"",children:e.label}),e.options.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]})},t)),d&&n&&(0,r.jsx)("button",{onClick:n,className:"whitespace-nowrap rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Clear Filters"})]})}var o=a(5665);function m(e){let{icon:t,title:a,description:s,action:l}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 p-12 text-center",children:[t&&(0,r.jsx)("div",{className:"mb-4 text-6xl opacity-50",children:t}),(0,r.jsx)("h3",{className:"mb-2 text-lg font-semibold text-gray-900",children:a}),s&&(0,r.jsx)("p",{className:"mb-6 text-sm text-gray-600",children:s}),l&&(0,r.jsx)("button",{onClick:l.onClick,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:l.label})]})}var x=e=>{let{department:t,onClose:a}=e,[s,i]=(0,d.useState)(1),[c,o]=(0,d.useState)(!1),[m,x]=(0,d.useState)(null),[u,g]=(0,d.useState)({departmentCode:"",departmentName:"",departmentType:"",description:"",branchId:"",organizationId:"",parentDepartmentId:"",departmentHeadId:"",operatingHours:"",budget:0,currency:"INR",maxConcurrentPatients:50,approvalWorkflowRequired:!1,status:"Active"}),[p,h]=(0,d.useState)([]),[b,y]=(0,d.useState)([]),[f]=(0,d.useState)(["Clinical","Administrative","Support","Diagnostic","Therapeutic","Emergency","Surgical","Medical"]);(0,d.useEffect)(()=>{t&&g({departmentCode:t.departmentCode,departmentName:t.departmentName,departmentType:t.departmentType,description:t.description||"",branchId:t.branchId,organizationId:t.organizationId||"",parentDepartmentId:t.parentDepartmentId||"",departmentHeadId:t.departmentHeadId||"",operatingHours:t.operatingHours||"",budget:t.budget||0,currency:t.currency||"INR",maxConcurrentPatients:t.maxConcurrentPatients||50,approvalWorkflowRequired:t.approvalWorkflowRequired,status:t.status}),j()},[t]);let j=async()=>{try{let[e,a]=await Promise.all([n.getAll(),l.g8.getAll()]);h(e.filter(e=>e.id!==(null==t?void 0:t.id))),y(a.data||[])}catch(e){console.error("Error loading options:",e)}},v=(e,t)=>{g(a=>({...a,[e]:t}))},N=async()=>{try{o(!0),x(null),t?await n.update(t.id,u):await n.create(u),a(!0)}catch(t){var e,r;console.error("Error saving department:",t),x((null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"Failed to save department")}finally{o(!1)}},w=[{number:1,title:"Basic Information"},{number:2,title:"Parent & Hierarchy"},{number:3,title:"Department Head"},{number:4,title:"Operating Hours"},{number:5,title:"Budget"},{number:6,title:"Workflow Settings"},{number:7,title:"Capacity Settings"}];return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,r.jsxs)("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-auto rounded-lg bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t?"Edit Department":"Create New Department"}),(0,r.jsx)("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,r.jsx)("div",{className:"mt-4 flex items-center justify-between",children:w.map((e,t)=>(0,r.jsxs)(d.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium ".concat(s===e.number?"bg-blue-600 text-white":s>e.number?"bg-green-600 text-white":"bg-gray-200 text-gray-600"),children:s>e.number?"✓":e.number}),(0,r.jsx)("p",{className:"mt-1 hidden text-xs text-gray-600 md:block",children:e.title})]}),t<w.length-1&&(0,r.jsx)("div",{className:"h-0.5 flex-1 ".concat(s>e.number?"bg-green-600":"bg-gray-200")})]},e.number))})]}),(0,r.jsxs)("div",{className:"p-6",children:[m&&(0,r.jsx)("div",{className:"mb-4 rounded-lg border border-red-300 bg-red-50 p-3 text-sm text-red-800",children:m}),1===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department Code *"}),(0,r.jsx)("input",{type:"text",value:u.departmentCode,onChange:e=>v("departmentCode",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",placeholder:"DEPT001",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department Name *"}),(0,r.jsx)("input",{type:"text",value:u.departmentName,onChange:e=>v("departmentName",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",placeholder:"Cardiology",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department Type *"}),(0,r.jsxs)("select",{value:u.departmentType,onChange:e=>v("departmentType",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Type"}),f.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,r.jsx)("textarea",{value:u.description,onChange:e=>v("description",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",rows:3,placeholder:"Brief description of the department..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status *"}),(0,r.jsxs)("select",{value:u.status,onChange:e=>v("status",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",required:!0,children:[(0,r.jsx)("option",{value:"Active",children:"Active"}),(0,r.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,r.jsx)("option",{value:"UnderMaintenance",children:"Under Maintenance"})]})]})]}),2===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Parent Department & Hierarchy"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Parent Department (Optional)"}),(0,r.jsxs)("select",{value:u.parentDepartmentId,onChange:e=>v("parentDepartmentId",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",children:[(0,r.jsx)("option",{value:"",children:"None (Top-level department)"}),p.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.departmentName," (",e.departmentCode,")"]},e.id))]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Select a parent department to create a sub-department"})]})]}),3===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Department Head Assignment"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department Head (Optional)"}),(0,r.jsxs)("select",{value:u.departmentHeadId,onChange:e=>v("departmentHeadId",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",children:[(0,r.jsx)("option",{value:"",children:"Select Department Head"}),b.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," - ",e.email]},e.id))]})]})]}),4===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Operating Hours"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Operating Hours"}),(0,r.jsx)("input",{type:"text",value:u.operatingHours,onChange:e=>v("operatingHours",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",placeholder:"e.g., Mon-Fri 9:00 AM - 5:00 PM, Sat 9:00 AM - 1:00 PM"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Specify the department's operational hours"})]})]}),5===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Budget & Currency"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Budget"}),(0,r.jsx)("input",{type:"number",value:u.budget,onChange:e=>v("budget",parseFloat(e.target.value)),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",placeholder:"0",min:"0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,r.jsxs)("select",{value:u.currency,onChange:e=>v("currency",e.target.value),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",children:[(0,r.jsx)("option",{value:"INR",children:"INR (₹)"}),(0,r.jsx)("option",{value:"USD",children:"USD ($)"}),(0,r.jsx)("option",{value:"EUR",children:"EUR (€)"}),(0,r.jsx)("option",{value:"GBP",children:"GBP (\xa3)"})]})]})]})]}),6===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Approval Workflow Settings"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:u.approvalWorkflowRequired,onChange:e=>v("approvalWorkflowRequired",e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600"}),(0,r.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"Require approval workflow for this department"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"When enabled, certain actions will require approval from department head or administrators"})]}),7===s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Capacity Settings"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Maximum Concurrent Patients"}),(0,r.jsx)("input",{type:"number",value:u.maxConcurrentPatients,onChange:e=>v("maxConcurrentPatients",parseInt(e.target.value)),className:"mt-1 w-full rounded-lg border border-gray-300 px-3 py-2",placeholder:"50",min:"1"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Maximum number of patients that can be handled concurrently"})]})]})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{onClick:()=>{s>1&&i(s-1)},disabled:1===s,className:"rounded-lg border border-gray-300 bg-white px-4 py-2 font-medium text-gray-700 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-50",children:"← Previous"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>a(!1),className:"rounded-lg border border-gray-300 bg-white px-4 py-2 font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),s<7?(0,r.jsx)("button",{onClick:()=>{s<7&&i(s+1)},className:"rounded-lg bg-blue-600 px-4 py-2 font-medium text-white hover:bg-blue-700",children:"Next →"}):(0,r.jsx)("button",{onClick:N,disabled:c,className:"rounded-lg bg-green-600 px-4 py-2 font-medium text-white hover:bg-green-700 disabled:cursor-not-allowed disabled:opacity-50",children:c?"Saving...":t?"Update Department":"Create Department"})]})]})})]})})},u=e=>{let{departmentId:t,onClose:a}=e,[s,l]=(0,d.useState)(null),[i,c]=(0,d.useState)(!0),[m,x]=(0,d.useState)("info");(0,d.useEffect)(()=>{u()},[t]);let u=async()=>{try{c(!0);let e=await n.getDetails(t);l(e)}catch(e){console.error("Error loading department details:",e)}finally{c(!1)}};if(i)return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsxs)("div",{className:"rounded-lg bg-white p-8",children:[(0,r.jsx)("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),(0,r.jsx)("p",{children:"Loading details..."})]})});if(!s)return null;let{department:g,staff:p,subDepartments:h,metrics:b}=s;return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,r.jsxs)("div",{className:"max-h-[90vh] w-full max-w-4xl overflow-auto rounded-lg bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:g.departmentName}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:g.departmentCode})]}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,r.jsx)("button",{onClick:()=>x("info"),className:"pb-2 text-sm font-medium ".concat("info"===m?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"),children:"Information"}),(0,r.jsxs)("button",{onClick:()=>x("staff"),className:"pb-2 text-sm font-medium ".concat("staff"===m?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"),children:["Staff (",p.length,")"]}),(0,r.jsxs)("button",{onClick:()=>x("subdepts"),className:"pb-2 text-sm font-medium ".concat("subdepts"===m?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"),children:["Sub-Departments (",h.length,")"]}),(0,r.jsx)("button",{onClick:()=>x("metrics"),className:"pb-2 text-sm font-medium ".concat("metrics"===m?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"),children:"Metrics"})]})]}),(0,r.jsxs)("div",{className:"p-6",children:["info"===m&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Department Type"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.departmentType})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)(o.O,{status:g.status})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Department Head"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.departmentHeadName||"Not assigned"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Operating Hours"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.operatingHours||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Budget"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.budget?"".concat(g.currency," ").concat(g.budget.toLocaleString()):"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Max Concurrent Patients"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.maxConcurrentPatients||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Approval Workflow"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.approvalWorkflowRequired?"Required":"Not required"})]})]}),g.description&&(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Description"}),(0,r.jsx)("p",{className:"mt-1 text-gray-900",children:g.description})]})]}),"staff"===m&&(0,r.jsx)("div",{children:0===p.length?(0,r.jsx)("p",{className:"text-center text-gray-500",children:"No staff assigned to this department"}):(0,r.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.designation||"Not specified"}),(0,r.jsx)(o.O,{status:e.status,size:"sm"})]})]},e.id))})}),"subdepts"===m&&(0,r.jsx)("div",{children:0===h.length?(0,r.jsx)("p",{className:"text-center text-gray-500",children:"No sub-departments"}):(0,r.jsx)("div",{className:"space-y-2",children:h.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.departmentName}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.departmentCode})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.departmentType}),(0,r.jsx)(o.O,{status:e.status,size:"sm"})]})]},e.id))})}),"metrics"===m&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Active Patients"}),(0,r.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:b.activePatients})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Appointments Today"}),(0,r.jsx)("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:b.totalAppointmentsToday})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Average Wait Time"}),(0,r.jsxs)("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:[b.averageWaitTime," min"]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Utilization Rate"}),(0,r.jsxs)("p",{className:"mt-2 text-3xl font-semibold text-gray-900",children:[b.utilizationRate,"%"]})]})]})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4",children:(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:a,className:"rounded-lg bg-gray-600 px-4 py-2 font-medium text-white hover:bg-gray-700",children:"Close"})})})]})})},g=e=>{let{onClose:t}=e,[a,s]=(0,d.useState)([]),[l,i]=(0,d.useState)(!0),[c,m]=(0,d.useState)(new Set);(0,d.useEffect)(()=>{x()},[]);let x=async()=>{try{i(!0);let e=await n.getHierarchy();s(e),m(new Set(e.map(e=>e.id)))}catch(e){console.error("Error loading hierarchy:",e)}finally{i(!1)}},u=e=>{m(t=>{let a=new Set(t);return a.has(e)?a.delete(e):a.add(e),a})},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=c.has(e.id),s=e.children&&e.children.length>0;return(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white p-3 hover:bg-gray-50",style:{marginLeft:"".concat(24*t,"px")},children:[s&&(0,r.jsx)("button",{onClick:()=>u(e.id),className:"flex h-6 w-6 items-center justify-center rounded hover:bg-gray-200",children:a?"▼":"▶"}),!s&&(0,r.jsx)("div",{className:"w-6"}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.departmentName}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.departmentCode})]}),(0,r.jsx)(o.O,{status:e.status,size:"sm"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:e.departmentType})]})}),(0,r.jsxs)("div",{className:"text-right",children:[e.departmentHeadName&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Head: ",e.departmentHeadName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Staff: ",e.totalStaff]})]})]}),s&&a&&(0,r.jsx)("div",{className:"mt-2",children:e.children.map(e=>g(e,t+1))})]},e.id)};return l?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsxs)("div",{className:"rounded-lg bg-white p-8",children:[(0,r.jsx)("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),(0,r.jsx)("p",{children:"Loading hierarchy..."})]})}):(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,r.jsxs)("div",{className:"max-h-[90vh] w-full max-w-5xl overflow-auto rounded-lg bg-white shadow-xl",children:[(0,r.jsx)("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Department Hierarchy"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"View organizational structure of all departments"})]}),(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,r.jsx)("div",{className:"p-6",children:0===a.length?(0,r.jsxs)("div",{className:"text-center text-gray-500",children:[(0,r.jsx)("p",{className:"text-4xl",children:"\uD83C\uDFE5"}),(0,r.jsx)("p",{className:"mt-2",children:"No departments found"})]}):(0,r.jsx)("div",{children:a.map(e=>g(e))})}),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{onClick:()=>m(new Set(a.map(e=>e.id))),className:"text-sm text-blue-600 hover:text-blue-700",children:"Expand All"}),(0,r.jsx)("button",{onClick:t,className:"rounded-lg bg-gray-600 px-4 py-2 font-medium text-white hover:bg-gray-700",children:"Close"})]})})]})})};function p(){let{user:e}=(0,s.t)();(0,i.useRouter)();let[t,a]=(0,d.useState)([]),[l,p]=(0,d.useState)([]),[h,b]=(0,d.useState)(!0),[y,f]=(0,d.useState)(null),[j,v]=(0,d.useState)(""),[N,w]=(0,d.useState)(""),[C,S]=(0,d.useState)(""),[k,D]=(0,d.useState)([]),[I,A]=(0,d.useState)(!1),[P,H]=(0,d.useState)(null),[T,E]=(0,d.useState)(!1),[M,R]=(0,d.useState)(!1);(0,d.useEffect)(()=>{e&&(O(),W())},[e]),(0,d.useEffect)(()=>{B()},[t,j,N,C]);let O=async()=>{try{b(!0),f(null);let e=await n.getAllWithStaffCount();a(e)}catch(a){var e,t;console.error("Error loading departments:",a),f((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to load departments")}finally{b(!1)}},W=async()=>{try{let e=await n.getDepartmentTypes();D(e)}catch(e){console.error("Error loading department types:",e),D(["Clinical","Administrative","Support","Diagnostic","Therapeutic","Emergency","Surgical","Medical"])}},B=()=>{let e=[...t];if(j){let t=j.toLowerCase();e=e.filter(e=>{var a;return e.departmentName.toLowerCase().includes(t)||e.departmentCode.toLowerCase().includes(t)||(null===(a=e.departmentHeadName)||void 0===a?void 0:a.toLowerCase().includes(t))})}N&&(e=e.filter(e=>e.status===N)),C&&(e=e.filter(e=>e.departmentType===C)),p(e)},L=()=>{v(""),w(""),S("")},U=()=>{H(null),A(!0)},z=e=>{H(e),A(!0)},q=e=>{H(e),E(!0)},_=async e=>{if(confirm('Are you sure you want to delete department "'.concat(e.departmentName,'"?')))try{await n.delete(e.id),await O()}catch(e){var t,a;alert((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to delete department")}},F=async e=>{A(!1),H(null),e&&await O()};return h||!e?(0,r.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading departments..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 p-8",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-7xl",children:[(0,r.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Departments Management"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage hospital departments and their hierarchies"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>R(!0),className:"rounded-lg border border-gray-300 bg-white px-4 py-2 font-medium text-gray-700 hover:bg-gray-50",children:"\uD83D\uDCCA View Hierarchy"}),(0,r.jsx)("button",{onClick:U,className:"rounded-lg bg-blue-600 px-4 py-2 font-medium text-white hover:bg-blue-700",children:"+ Create Department"})]})]}),y&&(0,r.jsx)("div",{className:"mb-6 rounded-lg border border-red-300 bg-red-50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:y})}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(c,{searchTerm:j,onSearchChange:v,placeholder:"Search by department name, code, or head...",filters:[{label:"All Statuses",value:N,options:[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"},{label:"Under Maintenance",value:"UnderMaintenance"}],onChange:w},{label:"All Types",value:C,options:k.map(e=>({label:e,value:e})),onChange:S}],onClearFilters:L})}),(0,r.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total Departments"}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:t.length})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Active"}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-green-600",children:t.filter(e=>"Active"===e.status).length})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total Staff"}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-blue-600",children:t.reduce((e,t)=>e+(t.staffCount||t.totalStaff||0),0)})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"With Sub-departments"}),(0,r.jsx)("p",{className:"mt-1 text-2xl font-semibold text-purple-600",children:t.filter(e=>(e.totalSubDepartments||0)>0).length})]})]}),(0,r.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm",children:0===l.length?(0,r.jsx)("div",{className:"p-8",children:(0,r.jsx)(m,{icon:"\uD83C\uDFE5",title:j||N||C?"No departments found":"No departments yet",description:j||N||C?"Try adjusting your search or filters":"Get started by creating your first department",action:j||N||C?{label:"Clear Filters",onClick:L}:{label:"Create Department",onClick:U}})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"border-b border-gray-200 bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Type"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Department Head"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Staff"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Sub-Depts"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:l.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.departmentName}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.departmentCode})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e.departmentType})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e.departmentHeadName||"-"})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.staffCount||e.totalStaff||0})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.totalSubDepartments||0})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)(o.O,{status:e.status})}),(0,r.jsx)("td",{className:"px-6 py-4 text-right",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>q(e),className:"text-blue-600 hover:text-blue-700",title:"View Details",children:"\uD83D\uDC41️"}),(0,r.jsx)("button",{onClick:()=>z(e),className:"text-gray-600 hover:text-gray-700",title:"Edit",children:"✏️"}),(0,r.jsx)("button",{onClick:()=>_(e),className:"text-red-600 hover:text-red-700",title:"Delete",children:"\uD83D\uDDD1️"})]})})]},e.id))})]})})})]}),I&&(0,r.jsx)(x,{department:P,onClose:F}),T&&P&&(0,r.jsx)(u,{departmentId:P.id,onClose:()=>{E(!1),H(null)}}),M&&(0,r.jsx)(g,{onClose:()=>R(!1)})]})}},5665:function(e,t,a){"use strict";a.d(t,{O:function(){return n}});var r=a(5650);a(2317);let s={Active:"bg-green-100 text-green-800 border-green-200",Inactive:"bg-gray-100 text-gray-800 border-gray-200",Suspended:"bg-red-100 text-red-800 border-red-200","On Leave":"bg-yellow-100 text-yellow-800 border-yellow-200","On-Leave":"bg-yellow-100 text-yellow-800 border-yellow-200",UnderMaintenance:"bg-orange-100 text-orange-800 border-orange-200","Under Maintenance":"bg-orange-100 text-orange-800 border-orange-200",compliant:"bg-green-100 text-green-800 border-green-200",Compliant:"bg-green-100 text-green-800 border-green-200",partial:"bg-yellow-100 text-yellow-800 border-yellow-200",Partial:"bg-yellow-100 text-yellow-800 border-yellow-200","non-compliant":"bg-red-100 text-red-800 border-red-200","Non-Compliant":"bg-red-100 text-red-800 border-red-200",healthy:"bg-green-100 text-green-800 border-green-200",Healthy:"bg-green-100 text-green-800 border-green-200",warning:"bg-yellow-100 text-yellow-800 border-yellow-200",Warning:"bg-yellow-100 text-yellow-800 border-yellow-200",critical:"bg-red-100 text-red-800 border-red-200",Critical:"bg-red-100 text-red-800 border-red-200",low:"bg-blue-100 text-blue-800 border-blue-200",Low:"bg-blue-100 text-blue-800 border-blue-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",Medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-orange-100 text-orange-800 border-orange-200",High:"bg-orange-100 text-orange-800 border-orange-200",Starter:"bg-gray-100 text-gray-800 border-gray-200",Standard:"bg-blue-100 text-blue-800 border-blue-200",Professional:"bg-purple-100 text-purple-800 border-purple-200",Enterprise:"bg-indigo-100 text-indigo-800 border-indigo-200",Enabled:"bg-green-100 text-green-800 border-green-200",Disabled:"bg-gray-100 text-gray-800 border-gray-200",default:"bg-gray-100 text-gray-800 border-gray-200"},l={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"};function n(e){let{status:t,size:a="md",className:n=""}=e,i=s[t]||s.default,d=l[a];return(0,r.jsx)("span",{className:"inline-flex items-center rounded-full border font-medium ".concat(i," ").concat(d," ").concat(n),children:t})}},9216:function(e,t,a){"use strict";let r;a.d(t,{Di:function(){return d},J2:function(){return u},WU:function(){return g},ac:function(){return i},g8:function(){return m},h0:function(){return x},h5:function(){return c},iJ:function(){return o},qN:function(){return n},sl:function(){return p}});var s=a(6470),l=a(3966);a(2189);let n=()=>((r=s.Z.create({baseURL:"http://localhost:5073/api",headers:{"Content-Type":"application/json"}})).interceptors.request.use(e=>{let{tenantId:t,token:a}=l.t.getState();return t&&(e.headers["X-Tenant-ID"]=t),a&&(e.headers.Authorization="Bearer ".concat(a)),e}),r.interceptors.response.use(e=>e,e=>{var t,a;return(null===(t=e.response)||void 0===t?void 0:t.status)===401?(l.t.getState().logout(),window.location.href="/auth/login"):(null===(a=e.response)||void 0===a?void 0:a.status)===403&&(window.location.href="/dashboard/unauthorized"),Promise.reject(e)}),r),i=()=>r||n(),d={getAll:()=>i().get("/patients"),getById:e=>i().get("/patients/".concat(e)),create:e=>i().post("/patients",e),update:(e,t)=>i().put("/patients/".concat(e),t),delete:e=>i().delete("/patients/".concat(e))},c={getAll:()=>i().get("/examinations"),getById:e=>i().get("/examinations/".concat(e)),getByPatient:e=>i().get("/examinations/patient/".concat(e)),create:e=>i().post("/examinations",e),update:(e,t)=>i().put("/examinations/".concat(e),t),delete:e=>i().delete("/examinations/".concat(e))},o={login:(e,t,a)=>i().post("/auth/login",{email:e,password:t,tenantId:a}),changePassword:(e,t)=>i().post("/auth/change-password",{currentPassword:e,newPassword:t})},m={getAll:()=>i().get("/users"),getAllWithDetails:()=>i().get("/users/with-details"),getById:e=>i().get("/users/".concat(e)),create:e=>i().post("/users",e),update:(e,t)=>i().put("/users/".concat(e),t),deactivate:e=>i().post("/users/".concat(e,"/deactivate"))},x={getAll:()=>i().get("/roles"),getAllWithUserCount:()=>i().get("/roles/with-user-count"),getById:e=>i().get("/roles/".concat(e)),create:e=>i().post("/roles",e),update:(e,t)=>i().put("/roles/".concat(e),t),delete:e=>i().delete("/roles/".concat(e)),assignRole:(e,t,a)=>i().post("/users/".concat(e,"/roles"),{roleId:t,branchId:a}),getRolePermissions:e=>i().get("/roles/".concat(e,"/permissions")),assignPermissions:(e,t)=>i().post("/roles/".concat(e,"/permissions"),{permissionIds:t}),removePermissions:(e,t)=>i().delete("/roles/".concat(e,"/permissions"),{data:{permissionIds:t}}),cloneRole:(e,t,a)=>i().post("/roles/".concat(e,"/clone"),{name:t,description:a})},u={getAll:()=>i().get("/permissions"),getAllGrouped:()=>i().get("/permissions/grouped"),getById:e=>i().get("/permissions/".concat(e)),create:e=>i().post("/permissions",e),update:(e,t)=>i().put("/permissions/".concat(e),t),delete:e=>i().delete("/permissions/".concat(e)),getByCategory:e=>i().get("/permissions/category/".concat(e)),bulkAssign:(e,t)=>i().post("/permissions/bulk-assign",{roleId:e,permissionIds:t}),bulkRemove:(e,t)=>i().delete("/permissions/bulk-remove",{data:{roleId:e,permissionIds:t}}),getMatrix:()=>i().get("/permissions/matrix"),getStatistics:()=>i().get("/permissions/statistics")},g={getAll:()=>i().get("/departments"),getAllWithStaffCount:()=>i().get("/departments/with-staff-count"),getById:e=>i().get("/departments/".concat(e))},p={getAll:()=>i().get("/branches")}},2189:function(e,t,a){"use strict";a.d(t,{f:function(){return s}});var r=a(9216);let s={assign:async function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,r.ac)().post("/users/".concat(e,"/department-access"),{departmentId:t,accessLevel:a,isPrimary:s})},revoke:async(e,t)=>(0,r.ac)().delete("/users/".concat(e,"/department-access/").concat(t)),getUserDepartments:async e=>{let t=await (0,r.ac)().get("/users/".concat(e,"/department-access"));return t.data},getDepartmentUsers:async e=>(0,r.ac)().get("/departments/".concat(e,"/user-access")),updateAccessLevel:async(e,t,a)=>(0,r.ac)().put("/users/".concat(e,"/department-access/").concat(t),{accessLevel:a}),setPrimary:async(e,t)=>(0,r.ac)().put("/users/".concat(e,"/department-access/").concat(t),{isPrimary:!0}),bulkAssign:async e=>(0,r.ac)().post("/user-department-access/bulk-assign",{assignments:e}),getAccessMatrix:async e=>{let t=e?{departmentId:e}:{};return(0,r.ac)().get("/user-department-access/matrix",{params:t})}}},3966:function(e,t,a){"use strict";a.d(t,{R:function(){return l},t:function(){return s}});var r=a(9147);let s=(0,r.Ue)((e,t)=>({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],isLoading:!1,mustChangePassword:!1,setAuth:(t,a,r,s,l,n,i)=>{e({token:t,refreshToken:a,user:r,roles:s,permissions:l,tenantId:n,mustChangePassword:i}),localStorage.setItem("auth_token",t),localStorage.setItem("refresh_token",a),localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("roles",JSON.stringify(s)),localStorage.setItem("permissions",JSON.stringify(l)),localStorage.setItem("tenant_id",n)},logout:()=>{e({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],mustChangePassword:!1}),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("permissions"),localStorage.removeItem("tenant_id")},clearMustChangePassword:()=>e({mustChangePassword:!1}),hasPermission:e=>{let{permissions:a}=t();return!!(a&&Array.isArray(a))&&(!!a.includes("*")||a.includes(e))},hasRole:e=>{let{roles:a}=t();return!!(a&&Array.isArray(a))&&a.includes(e)}}));function l(){try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("refresh_token"),a=localStorage.getItem("user"),r=localStorage.getItem("roles"),l=localStorage.getItem("permissions"),n=localStorage.getItem("tenant_id");if(e&&a){let i=JSON.parse(a),d=r?JSON.parse(r):[],c=l?JSON.parse(l):[];s.getState().setAuth(e,t||null,i,d,c,n||null,s.getState().mustChangePassword)}}catch(e){console.warn("Failed to hydrate auth from storage",e)}}},9856:function(e,t,a){e.exports=a(39)}},function(e){e.O(0,[675,510,662,744],function(){return e(e.s=5797)}),_N_E=e.O()}]);