(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{1757:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(2317);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:o,iconNode:c,...d},x)=>(0,s.createElement)("svg",{ref:x,...i,width:t,height:t,stroke:e,strokeWidth:r?24*Number(a)/Number(t):a,className:n("lucide",l),...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let a=(0,s.forwardRef)(({className:a,...i},o)=>(0,s.createElement)(l,{ref:o,iconNode:t,className:n(`lucide-${r(e)}`,a),...i}));return a.displayName=`${e}`,a}},6392:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},3799:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2944:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},1951:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},8541:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4787:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2056:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1601:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4649:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},8723:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},460:function(e,t,a){Promise.resolve().then(a.bind(a,1285))},1285:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return I}});var s=a(5650),r=a(2317),n=a(3966),i=a(9216);let l={getAllOrganizations:async e=>{let t=new URLSearchParams;(null==e?void 0:e.tenantId)&&t.append("tenantId",e.tenantId),(null==e?void 0:e.search)&&t.append("search",e.search),(null==e?void 0:e.type)&&t.append("type",e.type),(null==e?void 0:e.status)&&t.append("status",e.status),(null==e?void 0:e.parentOrganizationId)&&t.append("parentOrganizationId",e.parentOrganizationId),(null==e?void 0:e.rootOrganizationsOnly)!==void 0&&t.append("rootOrganizationsOnly",String(e.rootOrganizationsOnly)),(null==e?void 0:e.pageNumber)&&t.append("pageNumber",String(e.pageNumber)),(null==e?void 0:e.pageSize)&&t.append("pageSize",String(e.pageSize)),(null==e?void 0:e.sortBy)&&t.append("sortBy",e.sortBy),(null==e?void 0:e.sortOrder)&&t.append("sortOrder",e.sortOrder);let a=await (0,i.ac)().get("/organizations?".concat(t.toString()));return a.data},getOrganizationById:async e=>{let t=await (0,i.ac)().get("/organizations/".concat(e));return t.data},getOrganizationByCode:async(e,t)=>{let a=await (0,i.ac)().get("/organizations/code/".concat(e,"?tenantId=").concat(t));return a.data},createOrganization:async e=>{let t=await (0,i.ac)().post("/organizations",e);return t.data},updateOrganization:async(e,t)=>{let a=await (0,i.ac)().put("/organizations/".concat(e),t);return a.data},deleteOrganization:async e=>{let t=await (0,i.ac)().delete("/organizations/".concat(e));return t.data},moveOrganization:async(e,t)=>{let a=await (0,i.ac)().patch("/organizations/".concat(e,"/move"),t);return a.data},getHierarchy:async(e,t)=>{let a=new URLSearchParams({tenantId:e});t&&a.append("rootOrganizationId",t);let s=await (0,i.ac)().get("/organizations/hierarchy?".concat(a.toString()));return s.data},getChildOrganizations:async e=>{let t=await (0,i.ac)().get("/organizations/".concat(e,"/children"));return t.data},getBranchesByOrganization:async e=>{let t=await (0,i.ac)().get("/organizations/".concat(e,"/branches"));return t.data},moveBranches:async(e,t)=>{let a=await (0,i.ac)().patch("/organizations/".concat(e,"/branches/move"),t);return a.data},getStatistics:async e=>{let t=await (0,i.ac)().get("/organizations/statistics".concat(e?"?tenantId=".concat(e):""));return t.data},toggleStatus:async e=>{let t=await (0,i.ac)().patch("/organizations/".concat(e,"/toggle-status"));return t.data}};var o=a(6392),c=a(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);var x=a(8723),m=a(3799),g=a(2944),u=a(8541),h=a(4787),p=a(1951);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,c.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),v=(0,c.Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function j(e){var t;let{organization:a,onClose:i,onSaved:c}=e,{user:d}=(0,n.t)(),j=!!a,[b,f]=(0,r.useState)(!1),[N,w]=(0,r.useState)([]),[C,k]=(0,r.useState)("basic"),[z,S]=(0,r.useState)({name:(null==a?void 0:a.name)||"",code:(null==a?void 0:a.code)||"",type:(null==a?void 0:a.type)||"",description:(null==a?void 0:a.description)||"",status:(null==a?void 0:a.status)||"active",parentOrganizationId:(null==a?void 0:a.parentOrganizationId)||"",addressLine1:(null==a?void 0:a.addressLine1)||"",addressLine2:(null==a?void 0:a.addressLine2)||"",city:(null==a?void 0:a.city)||"",stateProvince:(null==a?void 0:a.stateProvince)||"",postalCode:(null==a?void 0:a.postalCode)||"",countryCode:(null==a?void 0:a.countryCode)||"US",phone:(null==a?void 0:a.phone)||"",email:(null==a?void 0:a.email)||"",website:(null==a?void 0:a.website)||"",primaryContactName:(null==a?void 0:a.primaryContactName)||"",primaryContactEmail:(null==a?void 0:a.primaryContactEmail)||"",primaryContactPhone:(null==a?void 0:a.primaryContactPhone)||"",timezone:(null==a?void 0:a.timezone)||"UTC",languageCode:(null==a?void 0:a.languageCode)||"en",currencyCode:(null==a?void 0:a.currencyCode)||"USD",operationalSince:(null==a?void 0:null===(t=a.operationalSince)||void 0===t?void 0:t.split("T")[0])||"",registrationNumber:(null==a?void 0:a.registrationNumber)||""});(0,r.useEffect)(()=>{O()},[]);let O=async()=>{try{let e=await l.getAllOrganizations({tenantId:null==d?void 0:d.tenantId,status:"active",pageSize:100}),t=e.organizations;a&&(t=t.filter(e=>e.id!==a.id)),w(t)}catch(e){console.error("Error loading parent organizations:",e)}},P=async e=>{if(e.preventDefault(),!z.name.trim()){alert("Organization name is required");return}try{if(f(!0),j&&a){let e={name:z.name,type:z.type||void 0,description:z.description||void 0,status:z.status,addressLine1:z.addressLine1||void 0,addressLine2:z.addressLine2||void 0,city:z.city||void 0,stateProvince:z.stateProvince||void 0,postalCode:z.postalCode||void 0,countryCode:z.countryCode||void 0,phone:z.phone||void 0,email:z.email||void 0,website:z.website||void 0,primaryContactName:z.primaryContactName||void 0,primaryContactEmail:z.primaryContactEmail||void 0,primaryContactPhone:z.primaryContactPhone||void 0,timezone:z.timezone||void 0,languageCode:z.languageCode||void 0,currencyCode:z.currencyCode||void 0,operationalSince:z.operationalSince||void 0,registrationNumber:z.registrationNumber||void 0};await l.updateOrganization(a.id,e)}else{let e={tenantId:(null==d?void 0:d.tenantId)||"",name:z.name,code:z.code||void 0,type:z.type||void 0,description:z.description||void 0,status:z.status,parentOrganizationId:z.parentOrganizationId||void 0,addressLine1:z.addressLine1||void 0,addressLine2:z.addressLine2||void 0,city:z.city||void 0,stateProvince:z.stateProvince||void 0,postalCode:z.postalCode||void 0,countryCode:z.countryCode||void 0,phone:z.phone||void 0,email:z.email||void 0,website:z.website||void 0,primaryContactName:z.primaryContactName||void 0,primaryContactEmail:z.primaryContactEmail||void 0,primaryContactPhone:z.primaryContactPhone||void 0,timezone:z.timezone||void 0,languageCode:z.languageCode||void 0,currencyCode:z.currencyCode||void 0,operationalSince:z.operationalSince||void 0,registrationNumber:z.registrationNumber||void 0};await l.createOrganization(e)}c()}catch(e){var t,s;console.error("Error saving organization:",e),alert((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to save organization")}finally{f(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(o.Z,{className:"h-6 w-6 text-indigo-600"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:j?"Edit Organization":"Create New Organization"})]}),(0,s.jsx)("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(x.Z,{className:"h-6 w-6"})})]}),(0,s.jsxs)("div",{className:"flex border-b border-gray-200 px-6",children:[(0,s.jsx)("button",{onClick:()=>k("basic"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("basic"===C?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Basic Info"}),(0,s.jsx)("button",{onClick:()=>k("contact"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("contact"===C?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Contact & Address"}),(0,s.jsx)("button",{onClick:()=>k("config"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("config"===C?"border-indigo-600 text-indigo-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Configuration"})]}),(0,s.jsxs)("form",{onSubmit:P,className:"flex-1 overflow-y-auto p-6",children:["basic"===C&&(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Organization Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",required:!0,value:z.name,onChange:e=>S({...z,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter organization name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Code"}),(0,s.jsx)("input",{type:"text",value:z.code,onChange:e=>S({...z,code:e.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono",placeholder:"ORG001",disabled:j}),j&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Code cannot be changed after creation"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Type"}),(0,s.jsxs)("select",{value:z.type,onChange:e=>S({...z,type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"Select type"}),(0,s.jsx)("option",{value:"Hospital",children:"Hospital"}),(0,s.jsx)("option",{value:"Clinic",children:"Clinic"}),(0,s.jsx)("option",{value:"Diagnostic",children:"Diagnostic Center"}),(0,s.jsx)("option",{value:"Pharmacy",children:"Pharmacy"}),(0,s.jsx)("option",{value:"Laboratory",children:"Laboratory"}),(0,s.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Parent Organization"}),(0,s.jsxs)("select",{value:z.parentOrganizationId,onChange:e=>S({...z,parentOrganizationId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"None (Root Organization)"}),N.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," ",e.code&&"(".concat(e.code,")")]},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,s.jsxs)("select",{value:z.status,onChange:e=>S({...z,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"}),(0,s.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{value:z.description,onChange:e=>S({...z,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter organization description"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 inline mr-1"}),"Operational Since"]}),(0,s.jsx)("input",{type:"date",value:z.operationalSince,onChange:e=>S({...z,operationalSince:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 inline mr-1"}),"Registration Number"]}),(0,s.jsx)("input",{type:"text",value:z.registrationNumber,onChange:e=>S({...z,registrationNumber:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"REG123456"})]})]})}),"contact"===C&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Address Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1"}),(0,s.jsx)("input",{type:"text",value:z.addressLine1,onChange:e=>S({...z,addressLine1:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Street address"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),(0,s.jsx)("input",{type:"text",value:z.addressLine2,onChange:e=>S({...z,addressLine2:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Apartment, suite, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),(0,s.jsx)("input",{type:"text",value:z.city,onChange:e=>S({...z,city:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State/Province"}),(0,s.jsx)("input",{type:"text",value:z.stateProvince,onChange:e=>S({...z,stateProvince:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code"}),(0,s.jsx)("input",{type:"text",value:z.postalCode,onChange:e=>S({...z,postalCode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country Code"}),(0,s.jsx)("input",{type:"text",value:z.countryCode,onChange:e=>S({...z,countryCode:e.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 font-mono",placeholder:"US",maxLength:2})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(h.Z,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Contact Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 inline mr-1"}),"Phone"]}),(0,s.jsx)("input",{type:"tel",value:z.phone,onChange:e=>S({...z,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"+1 (555) 123-4567"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 inline mr-1"}),"Email"]}),(0,s.jsx)("input",{type:"email",value:z.email,onChange:e=>S({...z,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"contact@organization.com"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,s.jsx)(y,{className:"h-4 w-4 inline mr-1"}),"Website"]}),(0,s.jsx)("input",{type:"url",value:z.website,onChange:e=>S({...z,website:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"https://www.organization.com"})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Contact Name"}),(0,s.jsx)("input",{type:"text",value:z.primaryContactName,onChange:e=>S({...z,primaryContactName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"John Doe"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Contact Email"}),(0,s.jsx)("input",{type:"email",value:z.primaryContactEmail,onChange:e=>S({...z,primaryContactEmail:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"john.doe@organization.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Contact Phone"}),(0,s.jsx)("input",{type:"tel",value:z.primaryContactPhone,onChange:e=>S({...z,primaryContactPhone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"+1 (555) 123-4567"})]})]})]})]}),"config"===C&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timezone"}),(0,s.jsxs)("select",{value:z.timezone,onChange:e=>S({...z,timezone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"UTC",children:"UTC"}),(0,s.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,s.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,s.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,s.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,s.jsx)("option",{value:"Asia/Kolkata",children:"India Standard Time"}),(0,s.jsx)("option",{value:"Europe/London",children:"London"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Language"}),(0,s.jsxs)("select",{value:z.languageCode,onChange:e=>S({...z,languageCode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"en",children:"English"}),(0,s.jsx)("option",{value:"es",children:"Spanish"}),(0,s.jsx)("option",{value:"fr",children:"French"}),(0,s.jsx)("option",{value:"de",children:"German"}),(0,s.jsx)("option",{value:"hi",children:"Hindi"}),(0,s.jsx)("option",{value:"ar",children:"Arabic"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Currency"}),(0,s.jsxs)("select",{value:z.currencyCode,onChange:e=>S({...z,currencyCode:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"USD",children:"USD - US Dollar"}),(0,s.jsx)("option",{value:"EUR",children:"EUR - Euro"}),(0,s.jsx)("option",{value:"GBP",children:"GBP - British Pound"}),(0,s.jsx)("option",{value:"INR",children:"INR - Indian Rupee"}),(0,s.jsx)("option",{value:"AED",children:"AED - UAE Dirham"}),(0,s.jsx)("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]})]}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,s.jsx)("strong",{children:"Note:"})," These configuration settings will be used as defaults for all branches under this organization. Individual branches can override these settings if needed."]})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",disabled:b,children:"Cancel"}),(0,s.jsxs)("button",{onClick:P,disabled:b,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[b&&(0,s.jsx)(v,{className:"h-4 w-4 mr-2 animate-spin"}),j?"Update Organization":"Create Organization"]})]})]})})}var b=a(2056);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,c.Z)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);var N=a(4649);function w(e){var t;let{organization:a,onClose:r,onEdit:n}=e,i=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A";return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(o.Z,{className:"h-6 w-6 text-indigo-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a.name}),a.code&&(0,s.jsx)("p",{className:"text-sm text-gray-500 font-mono",children:a.code})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("button",{onClick:n,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium flex items-center",children:[(0,s.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,s.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(x.Z,{className:"h-6 w-6"})})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Basic Information"]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Organization Type"}),(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold ".concat((e=>{switch(e){case"Hospital":return"bg-blue-100 text-blue-800";case"Clinic":return"bg-green-100 text-green-800";case"Diagnostic":return"bg-purple-100 text-purple-800";case"Pharmacy":return"bg-orange-100 text-orange-800";case"Laboratory":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}})(a.type)),children:a.type||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,s.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-semibold capitalize ".concat((e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800"}})(a.status)),children:a.status||"N/A"})]}),void 0!==a.hierarchyLevel&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Hierarchy Level"}),(0,s.jsxs)("p",{className:"text-sm text-gray-900",children:["Level ",a.hierarchyLevel]})]}),a.parentOrganizationName&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Parent Organization"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:a.parentOrganizationName})]})]}),a.description&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Description"}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:a.description})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Statistics"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Branches"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:a.totalBranches||0})]}),(0,s.jsx)(f,{className:"h-8 w-8 text-blue-400"})]})}),(0,s.jsx)("div",{className:"bg-green-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Total Users"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-700",children:a.totalUsers||0})]}),(0,s.jsx)(N.Z,{className:"h-8 w-8 text-green-400"})]})}),(0,s.jsx)("div",{className:"bg-purple-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Child Orgs"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:a.totalChildOrganizations||0})]}),(0,s.jsx)(o.Z,{className:"h-8 w-8 text-purple-400"})]})})]})]}),(a.addressLine1||a.city)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Address"]}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[a.addressLine1&&(0,s.jsx)("p",{children:a.addressLine1}),a.addressLine2&&(0,s.jsx)("p",{children:a.addressLine2}),(0,s.jsx)("p",{children:[a.city,a.stateProvince,a.postalCode].filter(Boolean).join(", ")}),a.countryCode&&(0,s.jsx)("p",{children:a.countryCode})]})})]}),(a.phone||a.email||a.website)&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(h.Z,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Contact Information"]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[a.phone&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Phone"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:a.phone})]})]}),a.email&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.Z,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Email"}),(0,s.jsx)("a",{href:"mailto:".concat(a.email),className:"text-sm text-indigo-600 hover:text-indigo-700",children:a.email})]})]}),a.website&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(y,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Website"}),(0,s.jsx)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 hover:text-indigo-700",children:a.website})]})]})]})]}),(a.primaryContactName||a.primaryContactEmail||a.primaryContactPhone)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Primary Contact"}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[a.primaryContactName&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Name"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:a.primaryContactName})]}),a.primaryContactEmail&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Email"}),(0,s.jsx)("a",{href:"mailto:".concat(a.primaryContactEmail),className:"text-sm text-indigo-600 hover:text-indigo-700",children:a.primaryContactEmail})]}),a.primaryContactPhone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Phone"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:a.primaryContactPhone})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Configuration"}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Timezone"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:a.timezone||"UTC"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Language"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:(null===(t=a.languageCode)||void 0===t?void 0:t.toUpperCase())||"EN"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Currency"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:a.currencyCode||"USD"})]})]})})]}),(a.operationalSince||a.registrationNumber)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Operations"}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[a.operationalSince&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Operational Since"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:i(a.operationalSince)})]})]}),a.registrationNumber&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4 text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Registration Number"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 font-mono",children:a.registrationNumber})]})]})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Audit Information"}),(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Created"}),(0,s.jsx)("p",{className:"text-gray-900",children:i(a.createdAt)}),a.createdBy&&(0,s.jsxs)("p",{className:"text-xs text-gray-600",children:["by ",a.createdBy]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Last Updated"}),(0,s.jsx)("p",{className:"text-gray-900",children:i(a.updatedAt)}),a.updatedBy&&(0,s.jsxs)("p",{className:"text-xs text-gray-600",children:["by ",a.updatedBy]})]})]})})]})]})}),(0,s.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-gray-200",children:(0,s.jsx)("button",{onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Close"})})]})})}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let C=(0,c.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),k=(0,c.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function z(e){let{node:t,level:a,onSelectOrganization:n}=e,[i,l]=(0,r.useState)(a<2),c=t.children&&t.children.length>0;return(0,s.jsxs)("div",{className:"select-none",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 py-2 px-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors border-l-4 ".concat((e=>{switch(e){case"active":return"border-green-400";case"inactive":default:return"border-gray-400";case"suspended":return"border-red-400"}})(t.status)),style:{marginLeft:"".concat(24*a,"px")},onClick:()=>null==n?void 0:n(t),children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),c&&l(!i)},className:"flex-shrink-0 ".concat(c?"text-gray-600 hover:text-gray-900":"text-transparent"),children:c?i?(0,s.jsx)(C,{className:"h-4 w-4"}):(0,s.jsx)(k,{className:"h-4 w-4"}):(0,s.jsx)("div",{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-between min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-indigo-600 flex-shrink-0"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),t.code&&(0,s.jsxs)("span",{className:"text-xs text-gray-500 font-mono flex-shrink-0",children:["(",t.code,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,s.jsx)("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold ".concat((e=>{switch(e){case"Hospital":return"bg-blue-100 text-blue-800";case"Clinic":return"bg-green-100 text-green-800";case"Diagnostic":return"bg-purple-100 text-purple-800";case"Pharmacy":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}})(t.type)),children:t.type||"N/A"}),void 0!==t.hierarchyLevel&&(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Level ",t.hierarchyLevel]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 flex-shrink-0 ml-4",children:[void 0!==t.totalBranches&&t.totalBranches>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[(0,s.jsx)(f,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:t.totalBranches})]}),void 0!==t.totalUsers&&t.totalUsers>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[(0,s.jsx)(N.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:t.totalUsers})]}),c&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-indigo-600 font-medium",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:t.children.length})]})]})]})]}),c&&i&&(0,s.jsx)("div",{className:"mt-1",children:t.children.map(e=>(0,s.jsx)(z,{node:e,level:a+1,onSelectOrganization:n},e.id))})]})}function S(e){let{tenantId:t,rootOrganizationId:a,onClose:n}=e,[i,c]=(0,r.useState)(!0),[d,m]=(0,r.useState)(null),[g,u]=(0,r.useState)(null),[h,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{y()},[t,a]);let y=async()=>{try{c(!0),m(null);let e=await l.getHierarchy(t,a);u(e)}catch(t){var e,s;console.error("Error loading hierarchy:",t),m((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Failed to load organization hierarchy")}finally{c(!1)}},j=e=>{let t=1;return e.children&&e.children.forEach(e=>{t+=j(e)}),t},b=e=>{let t=e.totalBranches||0;return e.children&&e.children.forEach(e=>{t+=b(e)}),t},w=e=>{let t=e.totalUsers||0;return e.children&&e.children.forEach(e=>{t+=w(e)}),t};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(o.Z,{className:"h-6 w-6 text-indigo-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Organization Hierarchy"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"View the complete organizational structure"})]})]}),(0,s.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(x.Z,{className:"h-6 w-6"})})]}),!i&&g&&(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gray-50",children:(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Organizations"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-indigo-600",children:j(g)})]}),(0,s.jsx)(o.Z,{className:"h-8 w-8 text-indigo-400"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Branches"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:b(g)})]}),(0,s.jsx)(f,{className:"h-8 w-8 text-blue-400"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-green-600",children:w(g)})]}),(0,s.jsx)(N.Z,{className:"h-8 w-8 text-green-400"})]})}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Max Depth"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:void 0!==g.hierarchyLevel?g.hierarchyLevel+1:1})]}),(0,s.jsx)("div",{className:"h-8 w-8 text-purple-400 font-bold text-2xl",children:"âˆž"})]})})]})}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[i&&(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(v,{className:"h-8 w-8 animate-spin text-indigo-600 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading hierarchy..."})]})}),d&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-red-800",children:d}),(0,s.jsx)("button",{onClick:y,className:"mt-2 text-sm text-red-600 hover:text-red-700 font-medium",children:"Try Again"})]}),!i&&!d&&g&&(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center space-x-4 text-xs text-gray-500",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 border-l-4 border-green-400 rounded"}),(0,s.jsx)("span",{children:"Active"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 border-l-4 border-gray-400 rounded"}),(0,s.jsx)("span",{children:"Inactive"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 border-l-4 border-red-400 rounded"}),(0,s.jsx)("span",{children:"Suspended"})]})]}),(0,s.jsx)(z,{node:g,level:0,onSelectOrganization:p})]}),!i&&!d&&!g&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(o.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),(0,s.jsx)("p",{className:"text-gray-600",children:"No organizations found"})]})]}),h&&(0,s.jsxs)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Selected Organization"}),(0,s.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Name"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:h.name})]}),h.code&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Code"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 font-mono",children:h.code})]}),h.type&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Type"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:h.type})]}),void 0!==h.hierarchyLevel&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Hierarchy Level"}),(0,s.jsxs)("p",{className:"text-sm text-gray-900",children:["Level ",h.hierarchyLevel]})]}),void 0!==h.totalBranches&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Branches"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:h.totalBranches})]}),void 0!==h.totalUsers&&(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-500",children:"Users"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:h.totalUsers})]})]})})]}),(0,s.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-gray-200",children:(0,s.jsx)("button",{onClick:n,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Close"})})]})})}var O=a(1601);function P(e){let{isOpen:t,title:a,message:r,itemName:n,confirmText:i="Delete",cancelText:l="Cancel",loading:o=!1,error:c,onConfirm:d,onCancel:m}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex-shrink-0 flex items-center justify-center h-10 w-10 rounded-full bg-red-100",children:(0,s.jsx)(O.Z,{className:"h-6 w-6 text-red-600"})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a})]}),(0,s.jsx)("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:o,children:(0,s.jsx)(x.Z,{className:"h-6 w-6"})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:r}),n&&(0,s.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4",children:(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:n})}),c&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:c})}),(0,s.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:(0,s.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,s.jsx)("strong",{children:"Warning:"})," This action cannot be undone."]})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:m,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium",disabled:o,children:l}),(0,s.jsxs)("button",{onClick:d,disabled:o,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[o&&(0,s.jsx)(v,{className:"h-4 w-4 mr-2 animate-spin"}),i]})]})]})}):null}function I(){let{user:e}=(0,n.t)(),[t,a]=(0,r.useState)([]),[i,c]=(0,r.useState)(!0),[x,m]=(0,r.useState)(null),[g,u]=(0,r.useState)(0),[h,p]=(0,r.useState)(0),[y,v]=(0,r.useState)(""),[b,f]=(0,r.useState)(""),[N,C]=(0,r.useState)(""),[k,z]=(0,r.useState)(1),[O,I]=(0,r.useState)(!1),[L,A]=(0,r.useState)(!1),[Z,E]=(0,r.useState)(!1),[B,M]=(0,r.useState)(!1),[U,D]=(0,r.useState)(!1),[T,R]=(0,r.useState)(null),[H,q]=(0,r.useState)(null);(0,r.useEffect)(()=>{_()},[y,b,N,k]);let _=async()=>{try{c(!0),m(null);let t={tenantId:null==e?void 0:e.tenantId,search:y||void 0,type:b||void 0,status:N||void 0,pageNumber:k,pageSize:10,sortBy:"name",sortOrder:"asc"},s=await l.getAllOrganizations(t);a(s.organizations),u(s.totalCount),p(s.totalPages)}catch(e){var t,s;console.error("Error loading organizations:",e),m((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Failed to load organizations")}finally{c(!1)}},F=async e=>{try{let t=await l.getOrganizationById(e.id);q(t),E(!0)}catch(e){console.error("Error loading organization details:",e),alert("Failed to load organization details")}},G=async e=>{try{let t=await l.getOrganizationById(e.id);q(t),A(!0)}catch(e){console.error("Error loading organization details:",e),alert("Failed to load organization details")}},J=e=>{R(e),D(!0)},W=async()=>{if(T){if(T.totalBranches&&T.totalBranches>0){alert("Cannot delete organization with ".concat(T.totalBranches," branches. Please move branches to another organization first."));return}try{await l.deleteOrganization(T.id),D(!1),R(null),_()}catch(a){var e,t;console.error("Error deleting organization:",a),alert((null===(t=a.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Failed to delete organization")}}},V=()=>{I(!1),A(!1),q(null),_()},$=e=>{switch(null==e?void 0:e.toLowerCase()){case"hospital":return"bg-blue-100 text-blue-800";case"clinic":return"bg-green-100 text-green-800";case"diagnostic":return"bg-purple-100 text-purple-800";case"pharmacy":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},X=e=>{switch(e.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"suspended":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(o.Z,{className:"h-8 w-8 text-indigo-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Management"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Manage hospital organizations and their structure"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>M(!0),className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm font-medium",children:[(0,s.jsx)(d,{className:"h-4 w-4 mr-2"}),"View Hierarchy"]}),(0,s.jsx)("button",{onClick:()=>I(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:"Create Organization"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("input",{type:"text",placeholder:"Search by name or code...",value:y,onChange:e=>{v(e.target.value),z(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})})}),(0,s.jsxs)("select",{value:b,onChange:e=>{f(e.target.value),z(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Types"}),(0,s.jsx)("option",{value:"Hospital",children:"Hospital"}),(0,s.jsx)("option",{value:"Clinic",children:"Clinic"}),(0,s.jsx)("option",{value:"Diagnostic",children:"Diagnostic"}),(0,s.jsx)("option",{value:"Pharmacy",children:"Pharmacy"})]}),(0,s.jsxs)("select",{value:N,onChange:e=>{C(e.target.value),z(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,s.jsx)("option",{value:"",children:"All Status"}),(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"inactive",children:"Inactive"}),(0,s.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,s.jsxs)("span",{children:["Showing ",t.length," of ",g," organizations"]}),(y||b||N)&&(0,s.jsx)("button",{onClick:()=>{v(""),f(""),C(""),z(1)},className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Clear Filters"})]})]}),x&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error loading organizations"}),(0,s.jsx)("p",{className:"text-sm text-red-700 mt-1",children:x})]})}),i&&(0,s.jsx)("div",{className:"flex items-center justify-center py-12"}),!i&&t.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Code"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parent"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branches"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-gray-400 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.hierarchyLevel>0&&(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Level ",e.hierarchyLevel]})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-900 font-mono",children:e.code||"â€”"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.type?(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat($(e.type)),children:e.type}):(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"â€”"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm text-gray-900",children:e.parentOrganizationName||"â€”"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.totalBranches})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.totalUsers})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(X(e.status)),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>F(e),className:"text-indigo-600 hover:text-indigo-900",title:"View Details"}),(0,s.jsx)("button",{onClick:()=>G(e),className:"text-blue-600 hover:text-blue-900",title:"Edit"}),(0,s.jsx)("button",{onClick:()=>J(e),className:"text-red-600 hover:text-red-900",title:"Delete"})]})})]},e.id))})]})}),h>1&&(0,s.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",k," of ",h]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>z(Math.max(1,k-1)),disabled:1===k,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,s.jsx)("button",{onClick:()=>z(Math.min(h,k+1)),disabled:k===h,className:"px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),!i&&0===t.length&&(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[(0,s.jsx)(o.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No organizations found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:y||b||N?"Try adjusting your filters":"Get started by creating your first organization"}),!y&&!b&&!N&&(0,s.jsx)("button",{onClick:()=>I(!0),className:"inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 text-sm font-medium",children:"Create Organization"})]}),O&&(0,s.jsx)(j,{onClose:()=>I(!1),onSaved:V}),L&&H&&(0,s.jsx)(j,{organization:H,onClose:()=>{A(!1),q(null)},onSaved:V}),Z&&H&&(0,s.jsx)(w,{organization:H,onClose:()=>{E(!1),q(null)},onEdit:()=>{E(!1),A(!0)}}),B&&(0,s.jsx)(S,{tenantId:(null==e?void 0:e.tenantId)||"",onClose:()=>M(!1)}),U&&T&&(0,s.jsx)(P,{isOpen:U,title:"Delete Organization",message:T.totalBranches&&T.totalBranches>0?"This organization has ".concat(T.totalBranches," branch").concat(T.totalBranches>1?"es":"",". You must move all branches to another organization before deleting."):"Are you sure you want to delete this organization? This action cannot be undone.",itemName:T.name,onConfirm:W,onCancel:()=>{D(!1),R(null)}})]})}},9216:function(e,t,a){"use strict";let s;a.d(t,{Di:function(){return o},J2:function(){return g},WU:function(){return u},ac:function(){return l},g8:function(){return x},h0:function(){return m},h5:function(){return c},iJ:function(){return d},qN:function(){return i},sl:function(){return h}});var r=a(6470),n=a(3966);a(2189);let i=()=>((s=r.Z.create({baseURL:"http://localhost:5073/api",headers:{"Content-Type":"application/json"}})).interceptors.request.use(e=>{let{tenantId:t,token:a}=n.t.getState();return t&&(e.headers["X-Tenant-ID"]=t),a&&(e.headers.Authorization="Bearer ".concat(a)),e}),s.interceptors.response.use(e=>e,e=>{var t,a;return(null===(t=e.response)||void 0===t?void 0:t.status)===401?(n.t.getState().logout(),window.location.href="/auth/login"):(null===(a=e.response)||void 0===a?void 0:a.status)===403&&(window.location.href="/dashboard/unauthorized"),Promise.reject(e)}),s),l=()=>s||i(),o={getAll:()=>l().get("/patients"),getById:e=>l().get("/patients/".concat(e)),create:e=>l().post("/patients",e),update:(e,t)=>l().put("/patients/".concat(e),t),delete:e=>l().delete("/patients/".concat(e))},c={getAll:()=>l().get("/examinations"),getById:e=>l().get("/examinations/".concat(e)),getByPatient:e=>l().get("/examinations/patient/".concat(e)),create:e=>l().post("/examinations",e),update:(e,t)=>l().put("/examinations/".concat(e),t),delete:e=>l().delete("/examinations/".concat(e))},d={login:(e,t,a)=>l().post("/auth/login",{email:e,password:t,tenantId:a}),changePassword:(e,t)=>l().post("/auth/change-password",{currentPassword:e,newPassword:t})},x={getAll:()=>l().get("/users"),getAllWithDetails:()=>l().get("/users/with-details"),getById:e=>l().get("/users/".concat(e)),create:e=>l().post("/users",e),update:(e,t)=>l().put("/users/".concat(e),t),deactivate:e=>l().post("/users/".concat(e,"/deactivate"))},m={getAll:()=>l().get("/roles"),getAllWithUserCount:()=>l().get("/roles/with-user-count"),getById:e=>l().get("/roles/".concat(e)),create:e=>l().post("/roles",e),update:(e,t)=>l().put("/roles/".concat(e),t),delete:e=>l().delete("/roles/".concat(e)),assignRole:(e,t,a)=>l().post("/users/".concat(e,"/roles"),{roleId:t,branchId:a}),getRolePermissions:e=>l().get("/roles/".concat(e,"/permissions")),assignPermissions:(e,t)=>l().post("/roles/".concat(e,"/permissions"),{permissionIds:t}),removePermissions:(e,t)=>l().delete("/roles/".concat(e,"/permissions"),{data:{permissionIds:t}}),cloneRole:(e,t,a)=>l().post("/roles/".concat(e,"/clone"),{name:t,description:a})},g={getAll:()=>l().get("/permissions"),getAllGrouped:()=>l().get("/permissions/grouped"),getById:e=>l().get("/permissions/".concat(e)),create:e=>l().post("/permissions",e),update:(e,t)=>l().put("/permissions/".concat(e),t),delete:e=>l().delete("/permissions/".concat(e)),getByCategory:e=>l().get("/permissions/category/".concat(e)),bulkAssign:(e,t)=>l().post("/permissions/bulk-assign",{roleId:e,permissionIds:t}),bulkRemove:(e,t)=>l().delete("/permissions/bulk-remove",{data:{roleId:e,permissionIds:t}}),getMatrix:()=>l().get("/permissions/matrix"),getStatistics:()=>l().get("/permissions/statistics")},u={getAll:()=>l().get("/departments"),getAllWithStaffCount:()=>l().get("/departments/with-staff-count"),getById:e=>l().get("/departments/".concat(e))},h={getAll:()=>l().get("/branches")}},2189:function(e,t,a){"use strict";a.d(t,{f:function(){return r}});var s=a(9216);let r={assign:async function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,s.ac)().post("/users/".concat(e,"/department-access"),{departmentId:t,accessLevel:a,isPrimary:r})},revoke:async(e,t)=>(0,s.ac)().delete("/users/".concat(e,"/department-access/").concat(t)),getUserDepartments:async e=>{let t=await (0,s.ac)().get("/users/".concat(e,"/department-access"));return t.data},getDepartmentUsers:async e=>(0,s.ac)().get("/departments/".concat(e,"/user-access")),updateAccessLevel:async(e,t,a)=>(0,s.ac)().put("/users/".concat(e,"/department-access/").concat(t),{accessLevel:a}),setPrimary:async(e,t)=>(0,s.ac)().put("/users/".concat(e,"/department-access/").concat(t),{isPrimary:!0}),bulkAssign:async e=>(0,s.ac)().post("/user-department-access/bulk-assign",{assignments:e}),getAccessMatrix:async e=>{let t=e?{departmentId:e}:{};return(0,s.ac)().get("/user-department-access/matrix",{params:t})}}},3966:function(e,t,a){"use strict";a.d(t,{R:function(){return n},t:function(){return r}});var s=a(9147);let r=(0,s.Ue)((e,t)=>({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],isLoading:!1,mustChangePassword:!1,setAuth:(t,a,s,r,n,i,l)=>{e({token:t,refreshToken:a,user:s,roles:r,permissions:n,tenantId:i,mustChangePassword:l}),localStorage.setItem("auth_token",t),localStorage.setItem("refresh_token",a),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("roles",JSON.stringify(r)),localStorage.setItem("permissions",JSON.stringify(n)),localStorage.setItem("tenant_id",i)},logout:()=>{e({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],mustChangePassword:!1}),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("permissions"),localStorage.removeItem("tenant_id")},clearMustChangePassword:()=>e({mustChangePassword:!1}),hasPermission:e=>{let{permissions:a}=t();return!!(a&&Array.isArray(a))&&(!!a.includes("*")||a.includes(e))},hasRole:e=>{let{roles:a}=t();return!!(a&&Array.isArray(a))&&a.includes(e)}}));function n(){try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("refresh_token"),a=localStorage.getItem("user"),s=localStorage.getItem("roles"),n=localStorage.getItem("permissions"),i=localStorage.getItem("tenant_id");if(e&&a){let l=JSON.parse(a),o=s?JSON.parse(s):[],c=n?JSON.parse(n):[];r.getState().setAuth(e,t||null,l,o,c,i||null,r.getState().mustChangePassword)}}catch(e){console.warn("Failed to hydrate auth from storage",e)}}}},function(e){e.O(0,[675,510,662,744],function(){return e(e.s=460)}),_N_E=e.O()}]);