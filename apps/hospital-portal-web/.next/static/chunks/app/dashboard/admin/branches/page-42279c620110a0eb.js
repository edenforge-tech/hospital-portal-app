(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{8734:function(e,t,s){Promise.resolve().then(s.bind(s,4652))},4652:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(5650),r=s(3966),i=s(9856),n=s(2317),l=s(9216);function d(){let{user:e}=(0,r.t)(),t=(0,i.useRouter)(),[s,d]=(0,n.useState)([]),[c,o]=(0,n.useState)([]),[x,m]=(0,n.useState)(!0),[g,u]=(0,n.useState)(""),[h,p]=(0,n.useState)("all"),[b,j]=(0,n.useState)("all"),[y,v]=(0,n.useState)("all"),[f,N]=(0,n.useState)("all"),[w,C]=(0,n.useState)(null),[A,S]=(0,n.useState)("list"),[k,D]=(0,n.useState)(null),[B,I]=(0,n.useState)(""),[E,T]=(0,n.useState)(""),[L,P]=(0,n.useState)(1),[O,U]=(0,n.useState)("overview"),[M,z]=(0,n.useState)({organizationId:"",branchName:"",branchCode:"",branchType:"Hospital",region:"North America",status:"Active",operationalStatus:"Operational",description:"",address:"",city:"",state:"",country:"United States",postalCode:"",phoneNumber:"",faxNumber:"",email:"",website:"",timezone:"America/New_York",currency:"USD",primaryLanguage:"English",operatingHoursStart:"08:00",operatingHoursEnd:"17:00",emergencySupport24x7:!1,totalBeds:0,icuBeds:0,emergencyBeds:0,hipaaCompliant:!1,nabhAccredited:!1,jciAccredited:!1,iso9001Certified:!1}),[F,H]=(0,n.useState)("");(0,n.useEffect)(()=>{e?R():t.push("/")},[e,t]);let R=async()=>{var e,t,s,a,r,i;try{m(!0),I(""),console.log("Loading branches from /api/branches...");let r=await (0,l.ac)().get("/branches");console.log("Branches response:",r.data);let i=(null===(e=r.data)||void 0===e?void 0:e.branches)||(null===(t=r.data)||void 0===t?void 0:t.Branches)||r.data||[];console.log("Extracted branches array:",i),d(Array.isArray(i)?i:[]);try{let e=await (0,l.ac)().get("/organizations");console.log("Organizations response:",e.data);let t=(null===(s=e.data)||void 0===s?void 0:s.organizations)||(null===(a=e.data)||void 0===a?void 0:a.Organizations)||e.data||[];console.log("Extracted organizations array:",t),o(Array.isArray(t)?t:[])}catch(e){console.warn("Failed to load organizations:",e),o([])}}catch(t){console.error("Error loading data:",t);let e=(null===(i=t.response)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.message)||t.message||"Failed to load branches";I("Failed to load branches: ".concat(e)),setTimeout(()=>I(""),5e3)}finally{m(!1)}},_=e=>{D(e),z(e),S("edit"),P(1)},G=e=>{D(e),S("details"),U("overview")},J=async e=>{if(confirm("Are you sure you want to delete this branch? This action cannot be undone."))try{await (0,l.ac)().delete("/branches/".concat(e)),T("Branch deleted successfully"),R(),setTimeout(()=>T(""),3e3)}catch(a){var t,s;let e=(null===(s=a.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||a.message||"Failed to delete branch";I("Failed to delete branch: ".concat(e)),setTimeout(()=>I(""),5e3)}},q=async e=>{e.preventDefault(),I(""),T("");try{"create"===A?(await (0,l.ac)().post("/branches",M),T("Branch created successfully")):"edit"===A&&k&&(await (0,l.ac)().put("/branches/".concat(k.id),M),T("Branch updated successfully")),S("list"),R(),setTimeout(()=>T(""),3e3)}catch(a){var t,s;let e=(null===(s=a.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||a.message||"Failed to save branch";I("Failed to save branch: ".concat(e))}},Y=(e,t)=>{z(s=>({...s,[e]:t}))},W=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"Inactive":default:return"bg-gray-100 text-gray-800";case"UnderMaintenance":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800"}},V=e=>{switch(e){case"Operational":return"bg-green-100 text-green-800";case"Limited":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},K=s.filter(e=>{var t,s;let a=e.name||e.branchName||"",r=e.code||e.branchCode||"",i=a.toLowerCase().includes(g.toLowerCase())||r.toLowerCase().includes(g.toLowerCase())||(null===(t=e.city)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(s=e.organizationName)||void 0===s?void 0:s.toLowerCase().includes(g.toLowerCase())),n="all"===h||e.organizationId===h,l="all"===b||e.status===b,d="all"===y||e.region===y,c="all"===f||e.timezone===f,o=null===w||e.emergencySupport24x7===w;return i&&n&&l&&d&&c&&o});return e?x?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading branches..."})]})})})}):"list"===A?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Branch Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage hospital branches and locations"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>S("list"===A?"map":"list"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"list"===A?"\uD83D\uDDFA️ Map View":"\uD83D\uDCCB List View"}),(0,a.jsx)("button",{onClick:()=>{S("create"),P(1),D(null),z({organizationId:"",branchName:"",branchCode:"",branchType:"Hospital",region:"North America",status:"Active",operationalStatus:"Operational",description:"",address:"",city:"",state:"",country:"United States",postalCode:"",phoneNumber:"",faxNumber:"",email:"",website:"",timezone:"America/New_York",currency:"USD",primaryLanguage:"English",operatingHoursStart:"08:00",operatingHoursEnd:"17:00",emergencySupport24x7:!1,totalBeds:0,icuBeds:0,emergencyBeds:0,hipaaCompliant:!1,nabhAccredited:!1,jciAccredited:!1,iso9001Certified:!1}),H("")},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"+ Add Branch"})]})]}),B&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:B}),E&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:E}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)("input",{type:"text",placeholder:"Search branches (name, code, city)...",value:g,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Organizations"}),c.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Statuses"}),(0,a.jsx)("option",{value:"Active",children:"Active"}),(0,a.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,a.jsx)("option",{value:"UnderMaintenance",children:"Under Maintenance"}),(0,a.jsx)("option",{value:"Closed",children:"Closed"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"All Regions"}),(0,a.jsx)("option",{value:"North America",children:"North America"}),(0,a.jsx)("option",{value:"Europe",children:"Europe"}),(0,a.jsx)("option",{value:"Asia Pacific",children:"Asia Pacific"}),(0,a.jsx)("option",{value:"Middle East",children:"Middle East"}),(0,a.jsx)("option",{value:"Latin America",children:"Latin America"}),(0,a.jsx)("option",{value:"Africa",children:"Africa"})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("select",{value:null===w?"all":w.toString(),onChange:e=>C("all"===e.target.value?null:"true"===e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"all",children:"24/7 Emergency"}),(0,a.jsx)("option",{value:"true",children:"Yes"}),(0,a.jsx)("option",{value:"false",children:"No"})]})})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:0===K.length?(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFE5"}),(0,a.jsx)("p",{className:"text-lg",children:"No branches found"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"Try adjusting your search or filters"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operational"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Departments"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name||e.branchName})}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.code||e.branchCode}),e.emergencySupport24x7&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 mt-1",children:"24/7 Emergency"})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.organizationName||"N/A"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.city||"N/A"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.region})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(W(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(V(e.operationalStatus)),children:e.operationalStatus||"N/A"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.departmentCount||0}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.staffCount||0}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,a.jsx)("button",{onClick:()=>G(e),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"View"}),(0,a.jsx)("button",{onClick:()=>_(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>J(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",K.length," of ",s.length," branches"]})]})}):"create"===A||"edit"===A?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("button",{onClick:()=>S("list"),className:"text-indigo-600 hover:text-indigo-800 mb-4",children:"← Back to Branches"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"create"===A?"Create New Branch":"Edit Branch"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"create"===A?"Add a new hospital branch":"Update branch information"})]}),B&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:B}),(0,a.jsx)("div",{className:"mb-8 bg-white rounded-lg shadow-md p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(e=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(L===e?"bg-indigo-600 text-white":L>e?"bg-green-500 text-white":"bg-gray-200 text-gray-600"),children:L>e?"✓":e}),(0,a.jsx)("div",{className:"ml-2 text-sm",children:(0,a.jsxs)("div",{className:"font-medium",children:[1===e&&"Basic Info",2===e&&"Address & Contact",3===e&&"Regional Config",4===e&&"Operations",5===e&&"Departments"]})}),e<5&&(0,a.jsx)("div",{className:"w-12 h-1 mx-4 bg-gray-200",children:(0,a.jsx)("div",{className:"h-full ".concat(L>e?"bg-green-500":"bg-gray-200")})})]},e))})}),(0,a.jsxs)("form",{onSubmit:q,className:"bg-white rounded-lg shadow-md p-6",children:[1===L&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Organization ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{required:!0,value:M.organizationId,onChange:e=>Y("organizationId",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select Organization"}),c.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Branch Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",required:!0,value:M.branchName,onChange:e=>Y("branchName",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., Central Hospital"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Branch Code ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",required:!0,value:M.branchCode,onChange:e=>Y("branchCode",e.target.value.toUpperCase()),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., HOSP-001"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Region ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("select",{required:!0,value:M.region,onChange:e=>Y("region",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"North America",children:"North America"}),(0,a.jsx)("option",{value:"Europe",children:"Europe"}),(0,a.jsx)("option",{value:"Asia Pacific",children:"Asia Pacific"}),(0,a.jsx)("option",{value:"Middle East",children:"Middle East"}),(0,a.jsx)("option",{value:"Latin America",children:"Latin America"}),(0,a.jsx)("option",{value:"Africa",children:"Africa"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch Type"}),(0,a.jsxs)("select",{value:M.branchType,onChange:e=>Y("branchType",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"Hospital",children:"Hospital"}),(0,a.jsx)("option",{value:"Clinic",children:"Clinic"}),(0,a.jsx)("option",{value:"DiagnosticCenter",children:"Diagnostic Center"}),(0,a.jsx)("option",{value:"Pharmacy",children:"Pharmacy"}),(0,a.jsx)("option",{value:"Laboratory",children:"Laboratory"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:M.status,onChange:e=>Y("status",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"Active",children:"Active"}),(0,a.jsx)("option",{value:"Inactive",children:"Inactive"}),(0,a.jsx)("option",{value:"UnderMaintenance",children:"Under Maintenance"}),(0,a.jsx)("option",{value:"Closed",children:"Closed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operational Status"}),(0,a.jsxs)("select",{value:M.operationalStatus,onChange:e=>Y("operationalStatus",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"Operational",children:"Operational"}),(0,a.jsx)("option",{value:"Limited",children:"Limited"}),(0,a.jsx)("option",{value:"Closed",children:"Closed"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,a.jsx)("textarea",{value:M.description,onChange:e=>Y("description",e.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Brief description of the branch..."})]})]}),2===L&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Address & Contact Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 1"}),(0,a.jsx)("input",{type:"text",value:M.address,onChange:e=>Y("address",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Street address, building number"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,a.jsx)("input",{type:"text",value:M.city,onChange:e=>Y("city",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),(0,a.jsx)("input",{type:"text",value:M.state,onChange:e=>Y("state",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),(0,a.jsx)("input",{type:"text",value:M.postalCode,onChange:e=>Y("postalCode",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,a.jsx)("input",{type:"text",value:M.country,onChange:e=>Y("country",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),(0,a.jsx)("input",{type:"number",step:"0.000001",value:M.latitude||"",onChange:e=>Y("latitude",parseFloat(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., 40.7128"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),(0,a.jsx)("input",{type:"number",step:"0.000001",value:M.longitude||"",onChange:e=>Y("longitude",parseFloat(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"e.g., -74.0060"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"tel",value:M.phoneNumber,onChange:e=>Y("phoneNumber",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+1-234-567-8900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fax Number"}),(0,a.jsx)("input",{type:"tel",value:M.faxNumber,onChange:e=>Y("faxNumber",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,a.jsx)("input",{type:"email",value:M.email,onChange:e=>Y("email",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"branch@hospital.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),(0,a.jsx)("input",{type:"url",value:M.website,onChange:e=>Y("website",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"https://branch.hospital.com"})]})]})]}),3===L&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Regional Configuration"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),(0,a.jsxs)("select",{value:M.timezone,onChange:e=>Y("timezone",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"America/New_York",children:"Eastern Time (ET)"}),(0,a.jsx)("option",{value:"America/Chicago",children:"Central Time (CT)"}),(0,a.jsx)("option",{value:"America/Denver",children:"Mountain Time (MT)"}),(0,a.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),(0,a.jsx)("option",{value:"Europe/London",children:"London (GMT)"}),(0,a.jsx)("option",{value:"Europe/Paris",children:"Central European Time (CET)"}),(0,a.jsx)("option",{value:"Asia/Dubai",children:"Gulf Standard Time (GST)"}),(0,a.jsx)("option",{value:"Asia/Kolkata",children:"India Standard Time (IST)"}),(0,a.jsx)("option",{value:"Asia/Singapore",children:"Singapore Time (SGT)"}),(0,a.jsx)("option",{value:"Asia/Tokyo",children:"Japan Standard Time (JST)"}),(0,a.jsx)("option",{value:"Australia/Sydney",children:"Australian Eastern Time (AET)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),(0,a.jsxs)("select",{value:M.currency,onChange:e=>Y("currency",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"USD",children:"USD - US Dollar"}),(0,a.jsx)("option",{value:"EUR",children:"EUR - Euro"}),(0,a.jsx)("option",{value:"GBP",children:"GBP - British Pound"}),(0,a.jsx)("option",{value:"INR",children:"INR - Indian Rupee"}),(0,a.jsx)("option",{value:"AED",children:"AED - UAE Dirham"}),(0,a.jsx)("option",{value:"SAR",children:"SAR - Saudi Riyal"}),(0,a.jsx)("option",{value:"SGD",children:"SGD - Singapore Dollar"}),(0,a.jsx)("option",{value:"JPY",children:"JPY - Japanese Yen"}),(0,a.jsx)("option",{value:"AUD",children:"AUD - Australian Dollar"}),(0,a.jsx)("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Language"}),(0,a.jsxs)("select",{value:M.primaryLanguage,onChange:e=>Y("primaryLanguage",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"English",children:"English"}),(0,a.jsx)("option",{value:"Spanish",children:"Spanish"}),(0,a.jsx)("option",{value:"French",children:"French"}),(0,a.jsx)("option",{value:"German",children:"German"}),(0,a.jsx)("option",{value:"Arabic",children:"Arabic"}),(0,a.jsx)("option",{value:"Hindi",children:"Hindi"}),(0,a.jsx)("option",{value:"Mandarin",children:"Mandarin"}),(0,a.jsx)("option",{value:"Japanese",children:"Japanese"}),(0,a.jsx)("option",{value:"Portuguese",children:"Portuguese"})]})]})]}),4===L&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Operational Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time"}),(0,a.jsx)("input",{type:"time",value:M.operatingHoursStart,onChange:e=>Y("operatingHoursStart",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time"}),(0,a.jsx)("input",{type:"time",value:M.operatingHoursEnd,onChange:e=>Y("operatingHoursEnd",e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.emergencySupport24x7,onChange:e=>Y("emergencySupport24x7",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"24/7 Emergency Support"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Beds"}),(0,a.jsx)("input",{type:"number",min:"0",value:M.totalBeds,onChange:e=>Y("totalBeds",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ICU Beds"}),(0,a.jsx)("input",{type:"number",min:"0",value:M.icuBeds,onChange:e=>Y("icuBeds",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Beds"}),(0,a.jsx)("input",{type:"number",min:"0",value:M.emergencyBeds,onChange:e=>Y("emergencyBeds",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Compliance & Certifications"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.hipaaCompliant,onChange:e=>Y("hipaaCompliant",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"HIPAA Compliant"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.nabhAccredited,onChange:e=>Y("nabhAccredited",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"NABH Accredited"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.jciAccredited,onChange:e=>Y("jciAccredited",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"JCI Accredited"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:M.iso9001Certified,onChange:e=>Y("iso9001Certified",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{className:"ml-2 block text-sm text-gray-900",children:"ISO 9001 Certified"})]})]})]})]}),5===L&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Department Template Selection"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Choose a department template to automatically create departments for this branch"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{onClick:()=>H("small"),className:"border-2 rounded-lg p-4 cursor-pointer transition ".concat("small"===F?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Small Clinic"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"3-5 basic departments"})]}),(0,a.jsx)("div",{className:"text-indigo-600 font-semibold",children:"5 departments"})]}),"small"===F&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,a.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1",children:[(0,a.jsx)("li",{children:"• General Medicine"}),(0,a.jsx)("li",{children:"• Emergency Services"}),(0,a.jsx)("li",{children:"• Laboratory"}),(0,a.jsx)("li",{children:"• Pharmacy"}),(0,a.jsx)("li",{children:"• Administration"})]})})]}),(0,a.jsxs)("div",{onClick:()=>H("medium"),className:"border-2 rounded-lg p-4 cursor-pointer transition ".concat("medium"===F?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Medium Hospital"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"10-15 specialized departments"})]}),(0,a.jsx)("div",{className:"text-indigo-600 font-semibold",children:"12 departments"})]}),"medium"===F&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,a.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1 grid grid-cols-2 gap-1",children:[(0,a.jsx)("li",{children:"• General Medicine"}),(0,a.jsx)("li",{children:"• Surgery"}),(0,a.jsx)("li",{children:"• Cardiology"}),(0,a.jsx)("li",{children:"• Orthopedics"}),(0,a.jsx)("li",{children:"• Pediatrics"}),(0,a.jsx)("li",{children:"• Obstetrics & Gynecology"}),(0,a.jsx)("li",{children:"• Emergency Services"}),(0,a.jsx)("li",{children:"• ICU"}),(0,a.jsx)("li",{children:"• Laboratory"}),(0,a.jsx)("li",{children:"• Radiology"}),(0,a.jsx)("li",{children:"• Pharmacy"}),(0,a.jsx)("li",{children:"• Administration"})]})})]}),(0,a.jsxs)("div",{onClick:()=>H("large"),className:"border-2 rounded-lg p-4 cursor-pointer transition ".concat("large"===F?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Large Hospital"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"20+ comprehensive departments"})]}),(0,a.jsx)("div",{className:"text-indigo-600 font-semibold",children:"22 departments"})]}),"large"===F&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,a.jsxs)("ul",{className:"text-sm text-gray-700 space-y-1 grid grid-cols-2 gap-1",children:[(0,a.jsx)("li",{children:"• General Medicine"}),(0,a.jsx)("li",{children:"• Surgery"}),(0,a.jsx)("li",{children:"• Cardiology"}),(0,a.jsx)("li",{children:"• Neurology"}),(0,a.jsx)("li",{children:"• Orthopedics"}),(0,a.jsx)("li",{children:"• Pediatrics"}),(0,a.jsx)("li",{children:"• Obstetrics & Gynecology"}),(0,a.jsx)("li",{children:"• Dermatology"}),(0,a.jsx)("li",{children:"• Psychiatry"}),(0,a.jsx)("li",{children:"• Ophthalmology"}),(0,a.jsx)("li",{children:"• ENT"}),(0,a.jsx)("li",{children:"• Oncology"}),(0,a.jsx)("li",{children:"• Nephrology"}),(0,a.jsx)("li",{children:"• Urology"}),(0,a.jsx)("li",{children:"• Emergency Services"}),(0,a.jsx)("li",{children:"• ICU"}),(0,a.jsx)("li",{children:"• NICU"}),(0,a.jsx)("li",{children:"• Laboratory"}),(0,a.jsx)("li",{children:"• Radiology"}),(0,a.jsx)("li",{children:"• Pharmacy"}),(0,a.jsx)("li",{children:"• Physical Therapy"}),(0,a.jsx)("li",{children:"• Administration"})]})})]}),(0,a.jsx)("div",{onClick:()=>H("custom"),className:"border-2 rounded-lg p-4 cursor-pointer transition ".concat("custom"===F?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Custom Selection"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manually select departments after creation"})]}),(0,a.jsx)("div",{className:"text-indigo-600 font-semibold",children:"0 departments"})]})}),(0,a.jsx)("div",{onClick:()=>H("none"),className:"border-2 rounded-lg p-4 cursor-pointer transition ".concat("none"===F?"border-indigo-500 bg-indigo-50":"border-gray-300 hover:border-indigo-300"),children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Skip Department Setup"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Add departments later"})]})})})]})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{L>1?P(L-1):S("list")},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:1===L?"Cancel":"Previous"}),L<5?(0,a.jsx)("button",{type:"button",onClick:()=>P(L+1),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition",children:"Next"}):(0,a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"create"===A?"Create Branch":"Update Branch"})]})]})]})}):"details"===A&&k?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("button",{onClick:()=>S("list"),className:"text-indigo-600 hover:text-indigo-800 mb-4 flex items-center",children:"← Back to Branches"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:k.name||k.branchName}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:[k.code||k.branchCode," • ",k.city,", ",k.region]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>_(k),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"✏️ Edit Branch"}),(0,a.jsx)("button",{onClick:()=>{alert("Clone feature coming soon!")},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition",children:"\uD83D\uDCCB Clone Branch"}),(0,a.jsx)("button",{onClick:()=>J(k.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"\uD83D\uDDD1️ Delete"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Departments"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.departmentCount||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFE5"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Staff"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.staffCount||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83D\uDC65"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:k.patientCount||0})]}),(0,a.jsx)("div",{className:"text-4xl",children:"\uD83C\uDFC3"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 ".concat("Operational"===k.operationalStatus?"border-green-500":"Limited"===k.operationalStatus?"border-yellow-500":"border-red-500"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,a.jsx)("p",{className:"text-xl font-bold text-gray-900 mt-2",children:k.operationalStatus||"Unknown"}),k.emergencySupport24x7&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 mt-2",children:"24/7 Emergency"})]}),(0,a.jsx)("div",{className:"text-4xl",children:"Operational"===k.operationalStatus?"✅":"Limited"===k.operationalStatus?"⚠️":"\uD83D\uDD34"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md mb-6",children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsx)("button",{onClick:()=>U("overview"),className:"px-6 py-3 border-b-2 font-medium text-sm ".concat("overview"===O?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overview"}),(0,a.jsxs)("button",{onClick:()=>U("departments"),className:"px-6 py-3 border-b-2 font-medium text-sm ".concat("departments"===O?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Departments (",k.departmentCount||0,")"]}),(0,a.jsxs)("button",{onClick:()=>U("staff"),className:"px-6 py-3 border-b-2 font-medium text-sm ".concat("staff"===O?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Staff (",k.staffCount||0,")"]}),(0,a.jsx)("button",{onClick:()=>U("activities"),className:"px-6 py-3 border-b-2 font-medium text-sm ".concat("activities"===O?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Recent Activities"})]})}),(0,a.jsxs)("div",{className:"p-6",children:["overview"===O&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Branch Name"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.name||k.branchName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Branch Code"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.code||k.branchCode})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Organization"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.organizationName||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Branch Type"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.branchType||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Region"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.region})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Status"}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 rounded text-xs font-semibold ".concat(W(k.status)),children:k.status})]})]}),k.description&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Description"}),(0,a.jsx)("p",{className:"text-base text-gray-700 mt-1",children:k.description})]})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Address & Contact"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Address"}),(0,a.jsxs)("p",{className:"text-base text-gray-900 mt-1",children:[k.address||"N/A",k.city&&(0,a.jsxs)(a.Fragment,{children:[", ",k.city]}),k.state&&(0,a.jsxs)(a.Fragment,{children:[", ",k.state]}),k.postalCode&&(0,a.jsxs)(a.Fragment,{children:[" ",k.postalCode]}),k.country&&(0,a.jsxs)(a.Fragment,{children:[", ",k.country]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Phone"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.phoneNumber||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Email"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.email||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Fax"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.faxNumber||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Website"}),k.website?(0,a.jsx)("a",{href:k.website,target:"_blank",rel:"noopener noreferrer",className:"text-base text-indigo-600 hover:text-indigo-800 mt-1",children:k.website}):(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operational Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Operating Hours"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.operatingHoursStart&&k.operatingHoursEnd?"".concat(k.operatingHoursStart," - ").concat(k.operatingHoursEnd):"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Emergency Support"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.emergencySupport24x7?"✅ 24/7 Available":"❌ Not Available"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Beds"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.totalBeds||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Available Beds"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.availableBeds||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ICU Beds"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.icuBeds||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Emergency Beds"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.emergencyBeds||0})]})]})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Configuration"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Timezone"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.timezone||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Currency"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.currency||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Primary Language"}),(0,a.jsx)("p",{className:"text-base text-gray-900 mt-1",children:k.primaryLanguage||"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compliance & Certifications"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:k.hipaaCompliant?"✅":"❌"}),(0,a.jsx)("span",{className:"text-base text-gray-900",children:"HIPAA Compliant"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:k.nabhAccredited?"✅":"❌"}),(0,a.jsx)("span",{className:"text-base text-gray-900",children:"NABH Accredited"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:k.jciAccredited?"✅":"❌"}),(0,a.jsx)("span",{className:"text-base text-gray-900",children:"JCI Accredited"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:k.iso9001Certified?"✅":"❌"}),(0,a.jsx)("span",{className:"text-base text-gray-900",children:"ISO 9001 Certified"})]})]})]}),k.latitude&&k.longitude&&(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg h-64 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDDFA️"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Map integration coming soon"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Coordinates: ",k.latitude,", ",k.longitude]}),(0,a.jsx)("a",{href:"https://www.google.com/maps?q=".concat(k.latitude,",").concat(k.longitude),target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Open in Google Maps"})]})})]})]}),"departments"===O&&(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFE5"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Departments Module"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Department management will be integrated here"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Total Departments: ",k.departmentCount||0]})]})}),"staff"===O&&(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDC65"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Staff Module"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Staff management will be integrated here"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Total Staff: ",k.staffCount||0]})]})}),"activities"===O&&(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCB"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Activity Timeline"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Recent branch activities and audit logs will appear here"}),(0,a.jsxs)("div",{className:"mt-6 text-left max-w-md mx-auto space-y-3",children:[k.createdAt&&(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-2 w-2 rounded-full bg-green-500 mt-2"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Branch Created"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(k.createdAt).toLocaleString()})]})]}),k.updatedAt&&(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-2 w-2 rounded-full bg-blue-500 mt-2"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Last Updated"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(k.updatedAt).toLocaleString()})]})]})]})]})})]})]})]})}):"map"===A?(0,a.jsx)("div",{className:"p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Branch Map View"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Interactive map showing all branch locations"})]}),(0,a.jsx)("button",{onClick:()=>S("list"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition",children:"\uD83D\uDCCB List View"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDDFA️"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Map Integration Coming Soon"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Interactive Google Maps/Mapbox integration will be added here"}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-left max-w-2xl mx-auto",children:[(0,a.jsx)("h3",{className:"font-semibold text-blue-900 mb-3",children:"Planned Features:"}),(0,a.jsxs)("ul",{className:"space-y-2 text-blue-800",children:[(0,a.jsx)("li",{children:"• Branch markers with info windows"}),(0,a.jsx)("li",{children:"• Click marker to view branch details"}),(0,a.jsx)("li",{children:"• Filter markers by organization/region"}),(0,a.jsx)("li",{children:"• Get directions link"}),(0,a.jsx)("li",{children:"• Cluster markers for dense areas"})]})]})]})})]})}):null:null}},9216:function(e,t,s){"use strict";let a;s.d(t,{Di:function(){return d},J2:function(){return g},WU:function(){return u},ac:function(){return l},g8:function(){return x},h0:function(){return m},h5:function(){return c},iJ:function(){return o},qN:function(){return n},sl:function(){return h}});var r=s(6470),i=s(3966);s(2189);let n=()=>((a=r.Z.create({baseURL:"http://localhost:5073/api",headers:{"Content-Type":"application/json"}})).interceptors.request.use(e=>{let{tenantId:t,token:s}=i.t.getState();return t&&(e.headers["X-Tenant-ID"]=t),s&&(e.headers.Authorization="Bearer ".concat(s)),e}),a.interceptors.response.use(e=>e,e=>{var t,s;return(null===(t=e.response)||void 0===t?void 0:t.status)===401?(i.t.getState().logout(),window.location.href="/auth/login"):(null===(s=e.response)||void 0===s?void 0:s.status)===403&&(window.location.href="/dashboard/unauthorized"),Promise.reject(e)}),a),l=()=>a||n(),d={getAll:()=>l().get("/patients"),getById:e=>l().get("/patients/".concat(e)),create:e=>l().post("/patients",e),update:(e,t)=>l().put("/patients/".concat(e),t),delete:e=>l().delete("/patients/".concat(e))},c={getAll:()=>l().get("/examinations"),getById:e=>l().get("/examinations/".concat(e)),getByPatient:e=>l().get("/examinations/patient/".concat(e)),create:e=>l().post("/examinations",e),update:(e,t)=>l().put("/examinations/".concat(e),t),delete:e=>l().delete("/examinations/".concat(e))},o={login:(e,t,s)=>l().post("/auth/login",{email:e,password:t,tenantId:s}),changePassword:(e,t)=>l().post("/auth/change-password",{currentPassword:e,newPassword:t})},x={getAll:()=>l().get("/users"),getAllWithDetails:()=>l().get("/users/with-details"),getById:e=>l().get("/users/".concat(e)),create:e=>l().post("/users",e),update:(e,t)=>l().put("/users/".concat(e),t),deactivate:e=>l().post("/users/".concat(e,"/deactivate"))},m={getAll:()=>l().get("/roles"),getAllWithUserCount:()=>l().get("/roles/with-user-count"),getById:e=>l().get("/roles/".concat(e)),create:e=>l().post("/roles",e),update:(e,t)=>l().put("/roles/".concat(e),t),delete:e=>l().delete("/roles/".concat(e)),assignRole:(e,t,s)=>l().post("/users/".concat(e,"/roles"),{roleId:t,branchId:s}),getRolePermissions:e=>l().get("/roles/".concat(e,"/permissions")),assignPermissions:(e,t)=>l().post("/roles/".concat(e,"/permissions"),{permissionIds:t}),removePermissions:(e,t)=>l().delete("/roles/".concat(e,"/permissions"),{data:{permissionIds:t}}),cloneRole:(e,t,s)=>l().post("/roles/".concat(e,"/clone"),{name:t,description:s})},g={getAll:()=>l().get("/permissions"),getAllGrouped:()=>l().get("/permissions/grouped"),getById:e=>l().get("/permissions/".concat(e)),create:e=>l().post("/permissions",e),update:(e,t)=>l().put("/permissions/".concat(e),t),delete:e=>l().delete("/permissions/".concat(e)),getByCategory:e=>l().get("/permissions/category/".concat(e)),bulkAssign:(e,t)=>l().post("/permissions/bulk-assign",{roleId:e,permissionIds:t}),bulkRemove:(e,t)=>l().delete("/permissions/bulk-remove",{data:{roleId:e,permissionIds:t}}),getMatrix:()=>l().get("/permissions/matrix"),getStatistics:()=>l().get("/permissions/statistics")},u={getAll:()=>l().get("/departments"),getAllWithStaffCount:()=>l().get("/departments/with-staff-count"),getById:e=>l().get("/departments/".concat(e))},h={getAll:()=>l().get("/branches")}},2189:function(e,t,s){"use strict";s.d(t,{f:function(){return r}});var a=s(9216);let r={assign:async function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,a.ac)().post("/users/".concat(e,"/department-access"),{departmentId:t,accessLevel:s,isPrimary:r})},revoke:async(e,t)=>(0,a.ac)().delete("/users/".concat(e,"/department-access/").concat(t)),getUserDepartments:async e=>{let t=await (0,a.ac)().get("/users/".concat(e,"/department-access"));return t.data},getDepartmentUsers:async e=>(0,a.ac)().get("/departments/".concat(e,"/user-access")),updateAccessLevel:async(e,t,s)=>(0,a.ac)().put("/users/".concat(e,"/department-access/").concat(t),{accessLevel:s}),setPrimary:async(e,t)=>(0,a.ac)().put("/users/".concat(e,"/department-access/").concat(t),{isPrimary:!0}),bulkAssign:async e=>(0,a.ac)().post("/user-department-access/bulk-assign",{assignments:e}),getAccessMatrix:async e=>{let t=e?{departmentId:e}:{};return(0,a.ac)().get("/user-department-access/matrix",{params:t})}}},3966:function(e,t,s){"use strict";s.d(t,{R:function(){return i},t:function(){return r}});var a=s(9147);let r=(0,a.Ue)((e,t)=>({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],isLoading:!1,mustChangePassword:!1,setAuth:(t,s,a,r,i,n,l)=>{e({token:t,refreshToken:s,user:a,roles:r,permissions:i,tenantId:n,mustChangePassword:l}),localStorage.setItem("auth_token",t),localStorage.setItem("refresh_token",s),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("roles",JSON.stringify(r)),localStorage.setItem("permissions",JSON.stringify(i)),localStorage.setItem("tenant_id",n)},logout:()=>{e({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],mustChangePassword:!1}),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("permissions"),localStorage.removeItem("tenant_id")},clearMustChangePassword:()=>e({mustChangePassword:!1}),hasPermission:e=>{let{permissions:s}=t();return!!(s&&Array.isArray(s))&&(!!s.includes("*")||s.includes(e))},hasRole:e=>{let{roles:s}=t();return!!(s&&Array.isArray(s))&&s.includes(e)}}));function i(){try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("refresh_token"),s=localStorage.getItem("user"),a=localStorage.getItem("roles"),i=localStorage.getItem("permissions"),n=localStorage.getItem("tenant_id");if(e&&s){let l=JSON.parse(s),d=a?JSON.parse(a):[],c=i?JSON.parse(i):[];r.getState().setAuth(e,t||null,l,d,c,n||null,r.getState().mustChangePassword)}}catch(e){console.warn("Failed to hydrate auth from storage",e)}}},9856:function(e,t,s){e.exports=s(39)}},function(e){e.O(0,[675,510,662,744],function(){return e(e.s=8734)}),_N_E=e.O()}]);