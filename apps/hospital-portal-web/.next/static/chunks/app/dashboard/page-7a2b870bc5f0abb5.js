(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1757:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2317);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:c="",children:i,iconNode:o,...d},m)=>(0,a.createElement)("svg",{ref:m,...l,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:n("lucide",c),...d},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),i=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...l},i)=>(0,a.createElement)(c,{ref:i,iconNode:t,className:n(`lucide-${r(e)}`,s),...l}));return s.displayName=`${e}`,s}},5541:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},6392:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},5924:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},53:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},9542:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},9028:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1601:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4649:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6908:function(e,t,s){Promise.resolve().then(s.bind(s,9902))},9902:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(5650),r=s(2317),n=s(8591),l=s(4649),c=s(5924),i=s(1601),o=s(5541),d=s(6392),m=s(9028),u=s(1757);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,u.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var x=s(9542),g=s(53);function p(){let[e,t]=(0,r.useState)(null),[s,u]=(0,r.useState)(null),[p,y]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),[j,v]=(0,r.useState)(!0),[N,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{k()},[]);let k=async()=>{try{v(!0),w(null);let[e,s,a,r]=await Promise.all([n.k.getOverviewStats().catch(()=>null),n.k.getQuickStats().catch(()=>null),n.k.getRecentActivities(10).catch(()=>[]),n.k.getAlerts(5).catch(()=>[])]);t(e),u(s),y(a),b(r)}catch(e){console.error("Failed to load dashboard data:",e),w("Failed to load dashboard data")}finally{v(!1)}},S=async e=>{try{await n.k.dismissAlert(e),b(f.filter(t=>t.id!==e))}catch(e){console.error("Failed to dismiss alert:",e)}},A=e=>{switch(e){case"user_registration":return(0,a.jsx)(l.Z,{className:"h-4 w-4"});case"role_assignment":return(0,a.jsx)(c.Z,{className:"h-4 w-4"});case"permission_change":return(0,a.jsx)(i.Z,{className:"h-4 w-4"});default:return(0,a.jsx)(o.Z,{className:"h-4 w-4"})}},Z=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-300";case"high":return"bg-orange-100 text-orange-800 border-orange-300";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"low":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return j?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening in your hospital."})]}),N&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-800 p-4 rounded flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5"}),N]}),e&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-blue-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Total Users"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:e.totalUsers}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.activeUsers," active"]})]}),(0,a.jsx)(l.Z,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Departments"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:e.totalDepartments}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Across all branches"})]}),(0,a.jsx)(d.Z,{className:"h-12 w-12 text-green-500 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-purple-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Branches"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:e.totalBranches}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.totalTenants," tenant(s)"]})]}),(0,a.jsx)(d.Z,{className:"h-12 w-12 text-purple-500 opacity-20"})]})}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-indigo-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"System Health"}),(0,a.jsx)("p",{className:"text-3xl font-bold ".concat("healthy"===e.systemHealthStatus?"text-green-600":"warning"===e.systemHealthStatus?"text-yellow-600":"text-red-600"),children:"healthy"===e.systemHealthStatus?"✓":"warning"===e.systemHealthStatus?"!":"✗"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1 capitalize",children:e.systemHealthStatus})]}),(0,a.jsx)(o.Z,{className:"h-12 w-12 text-indigo-500 opacity-20"})]})})]}),s&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"User Growth"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"This Month"}),(0,a.jsx)("span",{className:"text-lg font-bold",children:s.userGrowth.currentMonth})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Last Month"}),(0,a.jsx)("span",{className:"text-lg",children:s.userGrowth.lastMonth})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ".concat(s.userGrowth.percentageChange>=0?"text-green-600":"text-red-600"),children:[s.userGrowth.percentageChange>=0?(0,a.jsx)(m.Z,{className:"h-4 w-4"}):(0,a.jsx)(h,{className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[Math.abs(s.userGrowth.percentageChange).toFixed(1),"%",s.userGrowth.percentageChange>=0?" increase":" decrease"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Department Operations"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Active"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:s.departmentOperations.active})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total"}),(0,a.jsx)("span",{className:"text-lg",children:s.departmentOperations.total})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Utilization"}),(0,a.jsxs)("span",{className:"font-semibold",children:[s.departmentOperations.utilizationRate.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:"".concat(s.departmentOperations.utilizationRate,"%")}})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Compliance Status"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"HIPAA"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("compliant"===s.complianceStatus.hipaa?"bg-green-100 text-green-800":"partial"===s.complianceStatus.hipaa?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.complianceStatus.hipaa})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"NABH"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("compliant"===s.complianceStatus.nabh?"bg-green-100 text-green-800":"partial"===s.complianceStatus.nabh?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.complianceStatus.nabh})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"DPA"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("compliant"===s.complianceStatus.dpa?"bg-green-100 text-green-800":"partial"===s.complianceStatus.dpa?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.complianceStatus.dpa})]}),(0,a.jsx)("div",{className:"pt-2 border-t",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Overall Score"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-indigo-600",children:[s.complianceStatus.overallScore,"%"]})]})})]})]})]}),f.length>0&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"h-5 w-5 text-orange-500"}),"Active Alerts"]}),(0,a.jsx)("div",{className:"space-y-3",children:f.map(e=>(0,a.jsx)("div",{className:"p-4 rounded border ".concat(Z(e.severity)),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold",children:e.title}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-white bg-opacity-50",children:e.severity})]}),(0,a.jsx)("p",{className:"text-sm mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.Z,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString()]}),e.affectedUsers&&(0,a.jsxs)("span",{children:[e.affectedUsers," user(s) affected"]}),e.actionRequired&&(0,a.jsx)("span",{className:"font-semibold",children:"Action Required"})]})]}),(0,a.jsx)("button",{onClick:()=>S(e.id),className:"ml-4 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(g.Z,{className:"h-5 w-5"})})]})},e.id))})]}),p.length>0&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 hover:bg-gray-50 rounded",children:[(0,a.jsx)("div",{className:"mt-1 p-2 bg-blue-100 text-blue-600 rounded-full",children:A(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[(0,a.jsx)("span",{children:e.user}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:new Date(e.timestamp).toLocaleString()})]})]})]},e.id))})]}),!j&&!N&&!e&&(0,a.jsxs)("div",{className:"bg-white p-12 rounded-lg shadow text-center",children:[(0,a.jsx)(o.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No Dashboard Data Available"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Dashboard statistics will appear here once data is available."})]})]})}},9216:function(e,t,s){"use strict";let a;s.d(t,{Di:function(){return i},J2:function(){return h},WU:function(){return x},ac:function(){return c},g8:function(){return m},h0:function(){return u},h5:function(){return o},iJ:function(){return d},qN:function(){return l},sl:function(){return g}});var r=s(6470),n=s(3966);s(2189);let l=()=>((a=r.Z.create({baseURL:"http://localhost:5073/api",headers:{"Content-Type":"application/json"}})).interceptors.request.use(e=>{let{tenantId:t,token:s}=n.t.getState();return t&&(e.headers["X-Tenant-ID"]=t),s&&(e.headers.Authorization="Bearer ".concat(s)),e}),a.interceptors.response.use(e=>e,e=>{var t,s;return(null===(t=e.response)||void 0===t?void 0:t.status)===401?(n.t.getState().logout(),window.location.href="/auth/login"):(null===(s=e.response)||void 0===s?void 0:s.status)===403&&(window.location.href="/dashboard/unauthorized"),Promise.reject(e)}),a),c=()=>a||l(),i={getAll:()=>c().get("/patients"),getById:e=>c().get("/patients/".concat(e)),create:e=>c().post("/patients",e),update:(e,t)=>c().put("/patients/".concat(e),t),delete:e=>c().delete("/patients/".concat(e))},o={getAll:()=>c().get("/examinations"),getById:e=>c().get("/examinations/".concat(e)),getByPatient:e=>c().get("/examinations/patient/".concat(e)),create:e=>c().post("/examinations",e),update:(e,t)=>c().put("/examinations/".concat(e),t),delete:e=>c().delete("/examinations/".concat(e))},d={login:(e,t,s)=>c().post("/auth/login",{email:e,password:t,tenantId:s}),changePassword:(e,t)=>c().post("/auth/change-password",{currentPassword:e,newPassword:t})},m={getAll:()=>c().get("/users"),getAllWithDetails:()=>c().get("/users/with-details"),getById:e=>c().get("/users/".concat(e)),create:e=>c().post("/users",e),update:(e,t)=>c().put("/users/".concat(e),t),deactivate:e=>c().post("/users/".concat(e,"/deactivate"))},u={getAll:()=>c().get("/roles"),getAllWithUserCount:()=>c().get("/roles/with-user-count"),getById:e=>c().get("/roles/".concat(e)),create:e=>c().post("/roles",e),update:(e,t)=>c().put("/roles/".concat(e),t),delete:e=>c().delete("/roles/".concat(e)),assignRole:(e,t,s)=>c().post("/users/".concat(e,"/roles"),{roleId:t,branchId:s}),getRolePermissions:e=>c().get("/roles/".concat(e,"/permissions")),assignPermissions:(e,t)=>c().post("/roles/".concat(e,"/permissions"),{permissionIds:t}),removePermissions:(e,t)=>c().delete("/roles/".concat(e,"/permissions"),{data:{permissionIds:t}}),cloneRole:(e,t,s)=>c().post("/roles/".concat(e,"/clone"),{name:t,description:s})},h={getAll:()=>c().get("/permissions"),getAllGrouped:()=>c().get("/permissions/grouped"),getById:e=>c().get("/permissions/".concat(e)),create:e=>c().post("/permissions",e),update:(e,t)=>c().put("/permissions/".concat(e),t),delete:e=>c().delete("/permissions/".concat(e)),getByCategory:e=>c().get("/permissions/category/".concat(e)),bulkAssign:(e,t)=>c().post("/permissions/bulk-assign",{roleId:e,permissionIds:t}),bulkRemove:(e,t)=>c().delete("/permissions/bulk-remove",{data:{roleId:e,permissionIds:t}}),getMatrix:()=>c().get("/permissions/matrix"),getStatistics:()=>c().get("/permissions/statistics")},x={getAll:()=>c().get("/departments"),getAllWithStaffCount:()=>c().get("/departments/with-staff-count"),getById:e=>c().get("/departments/".concat(e))},g={getAll:()=>c().get("/branches")}},8591:function(e,t,s){"use strict";s.d(t,{k:function(){return r}});var a=s(9216);let r={getOverviewStats:async()=>{let e=await (0,a.ac)().get("/admin/dashboard/overview");return e.data},getQuickStats:async()=>{let e=await (0,a.ac)().get("/admin/dashboard/quick-stats");return e.data},getRecentActivities:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=await (0,a.ac)().get("/admin/dashboard/recent-activities",{params:{limit:e}});return t.data},getAlerts:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=await (0,a.ac)().get("/admin/dashboard/alerts",{params:{limit:e}});return t.data},dismissAlert:async e=>{await (0,a.ac)().delete("/admin/dashboard/alerts/".concat(e))},getStats:async()=>{let e=await (0,a.ac)().get("/admin/dashboard/stats");return e.data}}},2189:function(e,t,s){"use strict";s.d(t,{f:function(){return r}});var a=s(9216);let r={assign:async function(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,a.ac)().post("/users/".concat(e,"/department-access"),{departmentId:t,accessLevel:s,isPrimary:r})},revoke:async(e,t)=>(0,a.ac)().delete("/users/".concat(e,"/department-access/").concat(t)),getUserDepartments:async e=>{let t=await (0,a.ac)().get("/users/".concat(e,"/department-access"));return t.data},getDepartmentUsers:async e=>(0,a.ac)().get("/departments/".concat(e,"/user-access")),updateAccessLevel:async(e,t,s)=>(0,a.ac)().put("/users/".concat(e,"/department-access/").concat(t),{accessLevel:s}),setPrimary:async(e,t)=>(0,a.ac)().put("/users/".concat(e,"/department-access/").concat(t),{isPrimary:!0}),bulkAssign:async e=>(0,a.ac)().post("/user-department-access/bulk-assign",{assignments:e}),getAccessMatrix:async e=>{let t=e?{departmentId:e}:{};return(0,a.ac)().get("/user-department-access/matrix",{params:t})}}},3966:function(e,t,s){"use strict";s.d(t,{R:function(){return n},t:function(){return r}});var a=s(9147);let r=(0,a.Ue)((e,t)=>({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],isLoading:!1,mustChangePassword:!1,setAuth:(t,s,a,r,n,l,c)=>{e({token:t,refreshToken:s,user:a,roles:r,permissions:n,tenantId:l,mustChangePassword:c}),localStorage.setItem("auth_token",t),localStorage.setItem("refresh_token",s),localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("roles",JSON.stringify(r)),localStorage.setItem("permissions",JSON.stringify(n)),localStorage.setItem("tenant_id",l)},logout:()=>{e({user:null,token:null,refreshToken:null,tenantId:null,roles:[],permissions:[],mustChangePassword:!1}),localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),localStorage.removeItem("roles"),localStorage.removeItem("permissions"),localStorage.removeItem("tenant_id")},clearMustChangePassword:()=>e({mustChangePassword:!1}),hasPermission:e=>{let{permissions:s}=t();return!!(s&&Array.isArray(s))&&(!!s.includes("*")||s.includes(e))},hasRole:e=>{let{roles:s}=t();return!!(s&&Array.isArray(s))&&s.includes(e)}}));function n(){try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("refresh_token"),s=localStorage.getItem("user"),a=localStorage.getItem("roles"),n=localStorage.getItem("permissions"),l=localStorage.getItem("tenant_id");if(e&&s){let c=JSON.parse(s),i=a?JSON.parse(a):[],o=n?JSON.parse(n):[];r.getState().setAuth(e,t||null,c,i,o,l||null,r.getState().mustChangePassword)}}catch(e){console.warn("Failed to hydrate auth from storage",e)}}}},function(e){e.O(0,[675,510,662,744],function(){return e(e.s=6908)}),_N_E=e.O()}]);